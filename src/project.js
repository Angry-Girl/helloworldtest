window.__require=function e(t,n,o){function s(c,r){if(!n[c]){if(!t[c]){var a=c.split("/");if(a=a[a.length-1],!t[a]){var l="function"==typeof __require&&__require;if(!r&&l)return l(a,!0);if(i)return i(a,!0);throw new Error("Cannot find module '"+c+"'")}}var u=n[c]={exports:{}};t[c][0].call(u.exports,function(e){return s(t[c][1][e]||e)},u,u.exports,e,t,n,o)}return n[c].exports}for(var i="function"==typeof __require&&__require,c=0;c<o.length;c++)s(o[c]);return s}({AdMgr:[function(e,t,n){"use strict";cc._RF.push(t,"8eeadiUEmlLvKwWh/hJEwiL","AdMgr"),cc.AdMgr=cc.Class({ctor:function(){this.bannerAd=null},createBannerAd:function(){cc.sys.platform===cc.sys.WECHAT_GAME&&"zjtd"===cc.config.platform&&this.creatAd_zjtd()},creatAd_zjtd:function(){var e=this;if(console.log("creatAd_zjtd"),cc.sys.platform===cc.sys.WECHAT_GAME&&"zjtd"===cc.config.platform)if(null==this.bannerAd){var t=tt.getSystemInfoSync(),n=t.windowWidth,o=t.windowHeight;console.log("size...."+o),this.bannerAd=tt.createBannerAd({adUnitId:"3u30jbhbl1l5e4j2cj",adIntervals:30,style:{width:130,top:o-73.125,left:(n-130)/2}}),console.log("2 size...."+o),this.bannerAd.onResize(function(t){console.log("1 size...."),console.log(t.width,t.height),e.bannerAd.style.top=o-t.height-30,e.bannerAd.style.left=(n-t.width)/2}),this.bannerAd.onLoad(function(t){e.bannerAd.show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(e){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",e)})}),console.log("2\u5e7f\u544a\u663e\u793a...."),this.bannerAd.onError(function(e){console.log(e)})}else this.bannerAd.show().then(function(){console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(e){console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",e)})},hide:function(){this.bannerAd&&this.bannerAd.hide()},onResizeLoginScene:function(){var e=this,t=tt.getSystemInfoSync(),n=t.windowWidth,o=t.windowHeight;this.bannerAd.style.top=(n-targetBannerAdWidth)/2,this.bannerAd.onResize(function(t){console.log("1 size...."),console.log(t.width,t.height),e.bannerAd.style.top=o-t.height-30,e.bannerAd.style.left=(n-t.width)/2})},onResizeHallScene:function(){var e=this,t=tt.getSystemInfoSync(),n=t.windowWidth,o=t.windowHeight;this.bannerAd.onResize(function(t){console.log("1 size...."),console.log(t.width,t.height),e.bannerAd.style.top=o-t.height,e.bannerAd.style.left=(n-t.width)/2})},destroyAd_zjtd:function(){null!=this.bannerAd&&(this.bannerAd.destroy(),this.bannerAd=null)}}),"undefined"==typeof AdMgr&&(window.AdMgr=new cc.AdMgr),cc._RF.pop()},{}],Alert:[function(e,t,n){"use strict";cc._RF.push(t,"c12553sxCxG/on0Bz7rkX0f","Alert"),cc.Class({extends:cc.Component,properties:{lbTitle:cc.Label,lbContent:cc.Label,btnOk:cc.Node,btnCancel:cc.Node,_onOkCallback:null},onLoad:function(){this.node.active=!1},onOkClicked:function(e){this._onOkCallback&&this._onOkCallback(),this._onOkCallback=null,this.node.active=!1},onCancelClicked:function(e){this._onCancelCallback&&this._onCancelCallback(),this._onCancelCallback=null,this.node.active=!1},show:function(e,t,n,o,s){this.node.active=!0,this.lbTitle.string=e,this.lbContent.string=t,this._onOkCallback=n,this._onCancelCallback=s,o?(this.btnCancel.active=!0,this.btnOk.x=-150,this.btnCancel.x=150):(this.btnCancel.active=!1,this.btnOk.x=0),this.node.active=!0}}),cc._RF.pop()},{}],AnysdkMgr:[function(e,t,n){"use strict";cc._RF.push(t,"f58cea6lrpDZJSNs2BGBqxN","AnysdkMgr"),cc.AnysdkMgr=cc.Class({_isCapturing:!1,ctor:function(){this.ANDROID_WXAPI="com/joy/pgmjiong/WXAPI",this.ANDROID_SDKAPI="com/joy/pgmjiong/SDKAPI",this.IOS_API="AppController"},login:function(){cc.wt.show("\u6b63\u5728\u8bf7\u6c42\u5fae\u4fe1\u6388\u6743...");cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.ANDROID_WXAPI,"login","(Ljava/lang/String;Ljava/lang/String;)V","snsapi_userinfo","carjob_wechat_login"):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod(this.IOS_API,"login"):console.log("platform:"+cc.sys.os+" dosn't implement share.")},shareTxt:function(e,t,n){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.ANDROID_WXAPI,"ShareTxt","(Ljava/lang/String;Ljava/lang/String;I)V",e,t,n):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod(this.IOS_API,"share:shareTitle:shareDesc:",e,t,n):console.log("platform: %s dosn't implement share.",cc.sys.os)},shareApplet:function(e,t,n){if(cc.sys.platform===cc.sys.WECHAT_GAME){if("zjtd"===cc.config.platform)return void tt.shareAppMessage({title:e,query:n,templateId:"15ceekb03bl16lgomk"});var o=Math.floor(10*Math.random())+1;t=t.length>0?t:"https://app.joy78.com/share_"+o+".png",wx.shareAppMessage({title:e,imageUrl:t,query:n})}else cc.tip.show("\u53ea\u6709\u5fae\u4fe1\u5c0f\u6e38\u620f\u652f\u6301\u6b64\u63a5\u53e3")},sharePic:function(e,t,n){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.ANDROID_WXAPI,"SharePic","(Ljava/lang/String;Ljava/lang/String;I)V",e,t,n):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod(this.IOS_API,"share:shareTitle:shareDesc:",e,t,n):console.log("platform: %s dosn't implement share.",cc.sys.os)},shareWebPage:function(e,t,n,o){o=o||config.share_url,console.log("shareWebPage url=%s title=%s desc=%d type=%d",o,e,t,n),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.ANDROID_WXAPI,"shareWebPage","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;I)V",o,e,t,n):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod(this.IOS_API,"share:shareTitle:shareDesc:",e,t,n):console.log("platform: %s dosn't implement share.",cc.sys.os)},copyToClip:function(e,t){console.log("copy label=%s text=%s",e,t),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.ANDROID_SDKAPI,"putTextIntoClip","(Ljava/lang/String;Ljava/lang/String;)V",e,t):cc.sys.os==cc.sys.OS_IOS?result=jsb.reflection.callStaticMethod(this.IOS_API,"putTextIntoClip"):console.log("platform: %s dosn't implement putTextIntoClip.",cc.sys.os),cc.tip.show("\u590d\u5236\u6210\u529f")},pasteFromClip:function(){cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.ANDROID_SDKAPI,"getTextFromClip","()V"):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod(this.IOS_API,"getTextFromClip"):console.log("platform: %s dosn't implement getTextFromClip.",cc.sys.os)},shareResult:function(){if(!this._isCapturing){this._isCapturing=!0;var e=cc.director.getWinSize(),t=(new Date,jsb.fileUtils.getWritablePath()+"result_share.jpg");jsb.fileUtils.isFileExist(t)&&jsb.fileUtils.removeFile(t);var n=new cc.RenderTexture(Math.floor(e.width),Math.floor(e.height));n.setPosition(cc.p(e.width/2,e.height/2)),n.begin(),cc.director.getRunningScene().visit(),n.end(),n.saveToFile("result_share.jpg",cc.IMAGE_FORMAT_JPG);var o=this,s=0;setTimeout(function n(){if(jsb.fileUtils.isFileExist(t)){var i=100/e.height,c=Math.floor(e.width*i);cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(o.ANDROID_WXAPI,"ShareIMG","(Ljava/lang/String;II)V",t,c,100):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod(o.IOS_API,"shareIMG:width:height:",t,c,100):cc.log("platform: %s dosn't implement share.",cc.sys.os),o._isCapturing=!1}else{if(++s>10)return void cc.log("time out...");setTimeout(n,50)}},50)}},getChannelID:function(){var e=this.getMetaData("CHANNELID");return e||(e=""),e},getQueryUrl:function(){var e="";return cc.sys.os==cc.sys.OS_ANDROID?e=jsb.reflection.callStaticMethod(this.ANDROID_SDKAPI,"getQueryUrl","()Ljava/lang/String;"):cc.sys.os==cc.sys.OS_IOS?e=jsb.reflection.callStaticMethod(this.IOS_API,"getQueryUrl",appId,partnerId,prepayId,packageValue,nonceStr,timeStamp,sign):cc.log("platform: % dosn't implement getQueryUrl.",cc.sys.os),e},getMetaData:function(e){var t=null;return cc.sys.os==cc.sys.OS_ANDROID?t=jsb.reflection.callStaticMethod(this.ANDROID_SDKAPI,"getMetaData","(Ljava/lang/String;)Ljava/lang/String;",e):cc.sys.os==cc.sys.OS_IOS?t=jsb.reflection.callStaticMethod(this.IOS_API,"getMetaData",e):cc.log("platform: % dosn't implement getMetaData.",cc.sys.os),t},changeOrientation:function(e){console.log("changeOrientation val=%d",e);var t=cc.view.getFrameSize();t.width>t.height&&e==cc.macro.ORIENTATION_LANDSCAPE||t.width<t.height&&e==cc.macro.ORIENTATION_PORTRAIT?console.log("changeOrientation return val=%d",e):cc.sys.isBrowser?cc.view.setFrameSize(t.height,t.width):cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.ANDROID_SDKAPI,"changeOrientation","(I)V",e):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod(this.IOS_API,"changeOrientation",e):console.log("platform: % dosn't implement changeOrientation.",cc.sys.os)},payReqByWechat:function(e,t,n,o,s,i,c){cc.wt.show("\u6b63\u5728\u8bf7\u6c42\u5fae\u4fe1\u652f\u4ed8..."),console.log("appId=%s partnerId=%s prepayId=%s packageValue=%s nonceStr=%s timeStamp=%s sign=%s",e,t,n,o,s,i,c),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod(this.ANDROID_WXAPI,"payReqByWechat","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,n,o,s,i,c):cc.sys.os==cc.sys.OS_IOS?jsb.reflection.callStaticMethod(this.IOS_API,"payReqByWechat",e,t,n,o,s,i,c):cc.log("platform: % dosn't implement payReqByWechat.",cc.sys.os)},onWechatLoginResp:function(e,t){cc.wt.hide(),console.log("AnysdkMgr onWechatLoginResp errCode=%d code=%s",e,t),0==e?userMgr.wechatAuth(t):cc.tip.show(t)},onWechatPayResp:function(e){cc.wt.hide(),console.log("AnysdkMgr onWechatPayResp errCode=%d",e),0==e?cc.tip.show("\u652f\u4ed8\u6210\u529f\uff0c\u5230\u8d26\u5b58\u5728\u5ef6\u8fdf\uff0c\u5982\u6709\u7591\u95ee\uff0c\u8bf7\u8054\u7cfb\u5ba2\u670d\u3002"):cc.tip.show(e)},onWechatShareResp:function(e,t){console.log("AnysdkMgr onWechatShareResp errCode=%d code=%s",e,t),0==e||cc.tip.show(t)},onPasteResp:function(e,t){cc.tip.show("label="+e+"text="+t)}}),"undefined"==typeof anysdkMgr&&(window.anysdkMgr=new cc.AnysdkMgr),cc._RF.pop()},{}],AudioMgr:[function(e,t,n){"use strict";cc._RF.push(t,"55caepcpvFK5r0Ax5f8jss4","AudioMgr"),cc.AudioMgr=cc.Class({ctor:function(){this.bgmVolume=.5,this.sfxVolume=1,this.bgmAudioID=-1},init:function(){var e;null!=(e=cc.sys.localStorage.getItem("bgmVolume"))&&(this.bgmVolume=parseFloat(e)),null!=(e=cc.sys.localStorage.getItem("sfxVolume"))&&(this.sfxVolume=parseFloat(e)),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("cc.audioEngine.pauseAll"),cc.audioEngine.pauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("cc.audioEngine.resumeAll"),cc.audioEngine.resumeAll()})},getUrl:function(e){return cc.url.raw("resources/pgmj/sounds/"+e)},playBGM:function(e,t){var n=this,o="/client/"+userMgr.getGameId()+"/sounds/"+e;t&&(o=t+o),cc.loader.loadRes(o,function(e,t){n.bgmAudioID>=0&&cc.audioEngine.stop(n.bgmAudioID),n.bgmAudioID=cc.audioEngine.play(t,!0,n.bgmVolume)})},playSFX:function(e,t){var n=this;if(!(this.sfxVolume<=0)){t||(t="/client/"+userMgr.getGameId());var o=t+"/sounds/"+e;cc.log("playSFX fullpath=%s",o),cc.loader.loadRes(o,function(e,t){cc.audioEngine.play(t,!1,n.sfxVolume)})}},playClicked:function(){this.playSFX("ui_click")},setSFXVolume:function(e){this.sfxVolume!=e&&(cc.sys.localStorage.setItem("sfxVolume",e),this.sfxVolume=e)},getSFXVolume:function(){return this.sfxVolume},setBGMVolume:function(e){console.log("setBGMVolume v=%d",e),this.bgmAudioID>=0&&(e>0?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID)),this.bgmVolume!=e&&(cc.sys.localStorage.setItem("bgmVolume",e),this.bgmVolume=e,cc.audioEngine.setVolume(this.bgmAudioID,e))},getBGMvolume:function(){return this.bgmVolume},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()}}),"undefined"==typeof audioMgr&&(window.audioMgr=new cc.AudioMgr),audioMgr.init(),cc._RF.pop()},{}],AwardItem:[function(e,t,n){"use strict";cc._RF.push(t,"87dbf+NjY1NKpQxCm5y02zx","AwardItem"),cc.Class({extends:cc.Component,properties:{spIcon:cc.Sprite,lbAmount:cc.Label},onLoad:function(){},start:function(){},updateItem:function(e,t){var n=this;e=e||0,t=t||0;var o=resMgr.getItemUrl(e);cc.loader.loadRes(o,cc.SpriteFrame,function(e,t){n.spIcon.spriteFrame=t}),this.lbAmount.string=t;var s=this.node.parent.getContentSize(),i=utils.getMin(s.width,s.height);this.node.width=i,this.node.height=i}}),cc._RF.pop()},{}],AwardWin:[function(e,t,n){"use strict";cc._RF.push(t,"f9a5fOVEz1D6qQv2uPcX5mM","AwardWin"),cc.Class({extends:cc.Component,properties:{awardWrapper:cc.Node},onLoad:function(){},start:function(){},updateItem:function(e){for(var t=this.awardWrapper.children,n=this.awardWrapper.childrenCount,o=0;o<n;o++)t[o].active=!1;for(var s=e?e.length:0,i=0;i<s;i++){var c=e[i],r=t[i];r||(r=resMgr.getPrefabInstance("AwardItem"),this.awardWrapper.addChild(r)),r.active=!0,r.getComponent("AwardItem").updateItem(c.itemId,c.amount)}},onMaskClicked:function(e){this.node.destroy()},onCloseClicked:function(e){this.node.destroy()},onSureClicked:function(e){this.node.destroy()}}),cc._RF.pop()},{}],BagItem:[function(e,t,n){"use strict";cc._RF.push(t,"d68d64Ini1CmZr4mpYyve+n","BagItem"),cc.Class({extends:cc.Component,properties:{spIcon:cc.Sprite,lbAmount:cc.Label},ctor:function(){this._itemId=0},onLoad:function(){},start:function(){},updateItem:function(e){var t=this;cc.log("BagItem updateItem itemId=%d",e),this._itemId=e;var n=resMgr.getItemUrl(e);cc.loader.loadRes(n,cc.SpriteFrame,function(e,n){t.spIcon.spriteFrame=n}),this.lbAmount.string=userMgr.getItemAmount(e)},getItemId:function(){return this._itemId},setAmount:function(e){"number"!=typeof e||isNaN(e)||(this.lbAmount.string=e)},onSelfClicked:function(e){pomelo.emit("C2CItemDetail",{itemId:this._itemId})}}),cc._RF.pop()},{}],BagWin:[function(e,t,n){"use strict";cc._RF.push(t,"e3b49jaR9RDXJzYW70QVdzf","BagWin"),cc.Class({extends:cc.Component,properties:{main:cc.Node,lbVit:cc.Label,lbCoin:cc.Label,lbGems:cc.Label,lbCash:cc.Label,btnAll:cc.Button},onLoad:function(){this.lbCoin.string=userMgr.getCoin(),this.lbGems.string=userMgr.getGems(),this.lbCash.string=userMgr.getCash(),this.lbVit.string=userMgr.getVit()+"/"+userMgr.getMaxVit(),pomelo.on("C2CSyncItem",this._onC2CSyncItem.bind(this)),userMgr.requestBag(this._onBag.bind(this))},onDestroy:function(){pomelo.removeListener("C2CSyncItem")},onCloseClicked:function(e){this.node.destroy()},onMaskClicked:function(e){this.node.destroy()},onAllClicked:function(e){},_onBag:function(){cc.wt.hide();for(var e=this.main.children,t=this.main.childrenCount,n=0;n<t;n++)e[n].active=!1;for(var o=configMgr.getBagItemConfigArray(),s=0;s<o.length;s++){var i=o[s],c=e[s];c||(c=resMgr.getPrefabInstance("BagItem"),this.main.addChild(c)),c.active=!0,c.getComponent("BagItem").updateItem(i.id)}},_onC2CSyncItem:function(e){for(var t=e.itemId,n=e.amount,o=this.main.children,s=this.main.childrenCount,i=0;i<s;i++){var c=o[i].getComponent("BagItem");c&&c.getItemId()==t&&c.setAmount(n)}}}),cc._RF.pop()},{}],BroadcastMgr:[function(e,t,n){"use strict";cc._RF.push(t,"7afb6hXbQFC6pFHC5Etv+1+","BroadcastMgr"),cc.broadcastMgr={_noticeArray:[],_intimeArray:[],_intimeInterval:3,_noticeInterval:8,_reqNoticeTime:0,_randNoticeIndex:0,onLoad:function(){var e=this;console.log("++++++++++++BroadcastMgr onLoad++++++++++++++++"),console.log("ingame=%s",cc.ingame),cc.broadcastMgr=this,pomelo.on("onSysMsg",function(t){return e._onSysMsg(t)})},onDestroy:function(){pomelo.removeListener("onSysMsg")},getInTimeInterval:function(){return this._intimeInterval},getNoticeInterval:function(){return this._noticeInterval},requestNoticeMsg:function(){var e=this;console.log("+++++++++++++BroadcastMgr requestNoticeMsg++++++++++++"),pomelo.request("broadcast.broadcastHandler.getNoticeMessage",{},function(t){e._noticeInterval=t.noticeInterval||8,e._intimeInterval=t.intimeInterval||3;var n=t.noticeArray;n&&(e._noticeArray=n)})},randNoticeMsg:function(){return!this._noticeArray||this._noticeArray.length<=0?null:this._noticeArray[this._randNoticeIndex++%this._noticeArray.length]},randInTimeMsg:function(){if(!this._intimeArray||this._intimeArray.length<=0)return null;var e=this._intimeArray[0];return this._intimeArray.splice(0,1),e},_onSysMsg:function(e){this._intimeArray.length>50&&this._intimeArray.splice(0,1),this._intimeArray.push(e)}},"undefined"==typeof broadcastMgr&&(window.broadcastMgr=cc.broadcastMgr),cc._RF.pop()},{}],ChessJungle:[function(e,t,n){"use strict";cc._RF.push(t,"80da8d+m9JMuKHIR7bakPaj","ChessJungle");cc.Class({extends:cc.Component,properties:{hide:cc.Node,show:cc.Node,bg:cc.Sprite,icon:cc.Sprite,title:cc.Label,lastStep:cc.Node,arrows:{default:[],type:[cc.Node]},lbDesc:cc.Label,_originalX:0,_originalY:0,_index:-1,_buttonChairId:-1,_chess:-1},onLoad:function(){this._originalX=this.node.x,this._originalY=this.node.y,this.lastStep.active=!1,this.lbDesc.node.active=!1,this.hideArrow()},setIndex:function(e){this._index=e},getIndex:function(){return this._index},setChess:function(e){console.log("chessjungle setChess chess=%d",e),this._chess=e,this._render()},setButtonChairId:function(e){this._buttonChairId=e,this._render()},getPosition:function(){return cc.v2(this._originalX,this._originalY)},resetPosition:function(){this.node.x=this._originalX,this.node.y=this._originalY},jumpForever:function(){this.stopJumpForever();var e=cc.sequence(cc.moveBy(.3,cc.v2(0,10)),cc.delayTime(.1),cc.moveBy(.3,cc.v2(0,-10)),cc.delayTime(.1)),t=cc.repeatForever(e);t.setTag(1),this.node.runAction(t)},stopJumpForever:function(){cc.log("stopJumpForever"),this.node.stopActionByTag(1),this.resetPosition()},jumpTo:function(e,t){var n=cc.sequence(cc.jumpTo(.5,e,50,1),cc.callFunc(function(){t&&t()}));n.setTag(2),this.node.runAction(n)},stopAction:function(){this.node.stopAllActions()},showArrow:function(e){for(var t=0;t<=3;t++)-1==e[t]?this.arrows[t].active=!1:0==e[t]?(this.arrows[t].active=!0,this.arrows[t].color=new cc.Color(255,0,0)):(this.arrows[t].active=!0,this.arrows[t].color=new cc.Color(255,255,255))},hideArrow:function(){for(var e=0;e<=3;e++)this.arrows[e].active=!1},showLastStep:function(){this.lastStep.active=!0},hideLastStep:function(){this.lastStep.active=!1},getChessId:function(){if(this._chess<0)return this._chess;var e=Consts.ChessId,t=Consts.ChessState,n=this.getChessState();return n==t.INVALID||n==t.DEFEATED?e.EMPTY:n==t.COVER?e.COVER:this._chess%1e4%1e3},getChessState:function(){var e=Consts.ChessId,t=Consts.ChessState;return this._chess==e.EMPTY?t.INVALID:this._chess==e.COVER?t.COVER:this._chess<0?t.INVALID:Math.floor(this._chess%1e4/1e3)},getChessChairId:function(){return this._chess<0?-1:Math.floor(this._chess/1e4)},_render:function(){var e=this,t=Consts.ChessState;if(this.getChessState()==t.INVALID||this.getChessState()==t.DEFEATED)return this.hide.active=!1,void(this.show.active=!1);if(this.getChessState()==t.COVER)return this.hide.active=!0,void(this.show.active=!1);this.hide.active=!1,this.show.active=!0;var n=resMgr.getPrePath(),o=n+"/texture/lsqz_jungle";this.title.node.color=new cc.Color(0,0,255),this.getChessChairId()==this._buttonChairId&&(this.title.node.color=new cc.Color(255,0,0),o=n+"/texture/hsqz_jungle"),cc.loader.loadRes(o,cc.SpriteFrame,function(t,n){e.bg.spriteFrame=n}),this.lbDesc.string="index="+this.getIndex()+"\r\nchessId="+this.getChessId(),cc.log("render chessId=%d",this.getChessId());var s=resMgr.getJungleChessFilePath(this.getChessId());cc.loader.loadRes(s.spriteName,cc.SpriteFrame,function(t,n){t?console.error("ChessJungle loadRes spriteName=%s",s.spriteName):e.icon.spriteFrame=n}),this.title.string=s.title}}),cc._RF.pop()},{}],ClubJungle:[function(e,t,n){"use strict";cc._RF.push(t,"d2fd0ErPoxLKbTbj79aEBC7","ClubJungle");var o=e("ClubPlayerJungle");cc.Class({extends:cc.Component,properties:{lbRoomId:cc.Label,btnReady:cc.Sprite,spReady:cc.Sprite,vs:cc.Node,inviter:cc.Node,btnLeave:cc.Node,players:{default:[],type:[o],displayName:"Club Player",tooltip:"The Club of player"}},ctor:function(){this._roomId=null,this._heartElapsed=0},onLoad:function(){console.log("++++++++++++++ClubMatchDarkChess onLoad++++++++++++++");var e=cc.resMgr.getPrefabInstance("Alert");this.node.addChild(e,cc.macro.MAX_ZINDEX),cc.alert=e.getComponent("Alert"),e=cc.resMgr.getPrefabInstance("Waiting"),this.node.addChild(e,cc.macro.MAX_ZINDEX),cc.wt=e.getComponent("Waiting"),e=cc.resMgr.getPrefabInstance("Tip"),this.node.addChild(e,cc.macro.MAX_ZINDEX),cc.tip=e.getComponent("Tip"),this.vs.active=!1,pomelo.on("onAddToClub",this._onAddToClub,this),pomelo.on("onLeaveFromClub",this._onLeaveFromClub,this),pomelo.on("onQueueUp",this._onQueueUp,this),pomelo.on("onQueueFail",this._onQueueFail,this),pomelo.on("onPlayerGameState",this._onPlayerGameState,this),cc.sys.platform===cc.sys.WECHAT_GAME&&wx.onShareAppMessage(this._onShareAppMessage.bind(this)),this.inviter.active=!0},onDestroy:function(){cc.alert=null,cc.wt=null,cc.tip=null,pomelo.off("onAddToClub",this._onAddToClub,this),pomelo.off("onLeaveFromClub",this._onLeaveFromClub,this),pomelo.off("onQueueUp",this._onQueueUp,this),pomelo.off("onQueueFail",this._onQueueFail,this),pomelo.off("onPlayerGameState",this._onPlayerGameState,this),cc.sys.platform===cc.sys.WECHAT_GAME&&wx.offShareAppMessage(this._offShareAppMessage.bind(this))},start:function(){for(var e=this,t=0;t<this.players.length;t++){this.players[t].node.active=!1}var n=userMgr.getQueryGameServerId(),o=userMgr.getQueryRoomId();n?(userMgr.setQueryGameServerId(n),userMgr.setQueryRoomId(o),pomelo.request("connector.clubHandler.joinRoom",{gameServerId:n,roomId:o},function(t){if(t.code!=Code.OK){cc.alert.show("\u63d0\u793a","\u52a0\u5165\u7ec4\u5c40\u6e38\u620f\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u7ec4\u5c40",function(){userMgr.loadScene("hall")})}else pomelo.request("connector.clubHandler.getRoomInfo",{},e._onRoomInfo.bind(e))})):pomelo.request("connector.clubHandler.getRoomInfo",{},this._onRoomInfo.bind(this))},update:function(e){var t=this;if(this._roomId&&(this._heartElapsed+=e,this._heartElapsed>=Consts.HEART_INTERVAL)){var n={clienttime:cc.timeUtil.getTimeNow()};pomelo.request("connector.clubHandler.heart",n,function(e){t._ttl=cc.timeUtil.getTimeNow()-e.clienttime,e.code!=Code.OK&&(t._heartElapsed-=600,cc.alert.show("\u63d0\u793a","\u623f\u95f4\u5df2\u89e3\u6563\uff0c\u8bf7\u91cd\u65b0\u521b\u5efa",function(){t.node&&t.node.destroy()}))}),this._heartElapsed=0}},onCloseClicked:function(e){userMgr.leaveClubRoom(function(e){e&&e.code==Code.OK?userMgr.loadScene("hall"):cc.tip.show(e.code)})},onReadyClicked:function(e){pomelo.request("connector.clubHandler.ready",{},function(e){e&&e.code==Code.OK||cc.tip.show(e.code)})},onInviteClicked:function(e){var t="[\u6597\u517d\u68cb\u6765\u4e86]"+userMgr.getNickName()+" \u9080\u60a8\u52a0\u5165\uff1a"+this._roomId+"(\u623f\u95f4\u53f7)",n="userId="+userMgr.getUserId()+"&roomId="+this._roomId+"&gameId="+userMgr.getGameId();anysdkMgr.shareApplet(t,"",n)},_onAddToClub:function(e){if(cc.log(e),e.userId==userMgr.getUserId()){var t=this.players[0];t.node.active=!0,t.updateItem(e)}else{var n=this.players[1];n.node.active=!0,n.updateItem(e),this.inviter.active=!1}},_onLeaveFromClub:function(e){cc.log(e);var t=e.playerId,n=this._getPlayerById(t);n&&(n.node.active=!1)},_onQueueUp:function(e){cc.log(e),this.btnReady.node.active=!1,this.btnLeave.active=!1;var t=e.gameId,n=e.roomId;this._heartElapsed-=600;var o=e.playerArray;if(!o instanceof Array||o.length<=0){cc.alert.show("\u63d0\u793a","\u5339\u914d\u5931\u8d25",function(){userMgr.loadScene("hall")})}else{for(var s=0;s<o.length;s++){var i=this.players[s];if(!i)break;i.updateItem(o[s])}this.vs.active=!0,this.vs.runAction(cc.jumpBy(1.2,cc.v2(0,0),60,2)),this.scheduleOnce(function(){userMgr.setQueryGameId(t),userMgr.setQueryRoomId(n),userMgr.loadScene("game")},1.5)}},_onQueueFail:function(e){cc.alert.show("\u63d0\u793a","\u6e38\u620f\u7ef4\u62a4\u4e2d\uff0c\u6682\u65f6\u65e0\u6cd5\u5339\u914d",function(){userMgr.loadScene("hall")})},_onRoomInfo:function(e){if(console.log(e),e.code==Code.OK){var t=e.roomInfo;this._setRoomId(t.roomId);for(var n=t.playerArray,o=0;o<n.length;o++){var s=n[o];if(s.userId==userMgr.getUserId()){var i=this.players[0];i.node.active=!0,i.updateItem(s)}else{var c=this.players[1];c.node.active=!0,c.updateItem(s),this.inviter.active=!1}}this._refreshGameState()}else cc.tip.show(e.code)},_onPlayerGameState:function(e){console.log("_onPlayerGameState"),console.log(e);var t=e.playerId,n=e.gameState,o=this._getPlayerById(t);o&&o.setGameState(n),t==userMgr.getUserId()&&this._refreshGameState()},_getPlayerById:function(e){for(var t=null,n=0;n<this.players.length;n++)if(this.players[n].getPlayerId()==e){t=this.players[n];break}return t},_setRoomId:function(e){this._roomId=e,this._roomId&&(this.lbRoomId.string=this._roomId)},_refreshGameState:function(){var e=this,t=this._getPlayerById(userMgr.getUserId());if(t){var n="/texture/fnt_ready",o="/texture/btn_bg_blue";t.getGameState()!=Consts.GameState.UNREADY&&(n="/texture/fnt_cancel_ready",o="/texture/btn_bg_green");var s=resMgr.getPrePath();cc.loader.loadRes(s+n,cc.SpriteFrame,function(t,n){e.spReady.spriteFrame=n}),cc.loader.loadRes(s+o,cc.SpriteFrame,function(t,n){e.btnReady.spriteFrame=n})}},_onShareAppMessage:function(e){},_offShareAppMessage:function(e){},_getWechatShareInfo:function(){return{title:"[\u6597\u517d\u68cb\u6765\u4e86]"+userMgr.getNickName()+" \u9080\u60a8\u52a0\u5165\uff1a"+this._roomId+"(\u623f\u95f4\u53f7)",query:"userId="+userMgr.getUserId()+"&roomId="+this._roomId+"&gameId="+userMgr.getGameId()}}}),cc._RF.pop()},{ClubPlayerJungle:"ClubPlayerJungle"}],ClubPlayerJungle:[function(e,t,n){"use strict";cc._RF.push(t,"b0ae6gJfpdLtY7OPYWspdGb","ClubPlayerJungle"),cc.Class({extends:cc.Component,properties:{spAvatarIcon:cc.Sprite,spSex:cc.Sprite,lbNickName:cc.Label,allready:cc.Node},ctor:function(){this._playerId=-1,this._gameState=Consts.GameState.UNREADY},onLoad:function(){this.allready.active=!1},getPlayerId:function(){return this._playerId},setGameState:function(e){this._gameState=e,this.allready.active=!1,this._gameState==Consts.GameState.READY&&(this.allready.active=!0)},getGameState:function(){return this._gameState},updateItem:function(e){var t=this;this._playerId=e.userId,this.setGameState(e.gameState),this.lbNickName.string=e.nickName;var n=resMgr.getSexUrl(e.sex);cc.loader.loadRes(n,cc.SpriteFrame,function(e,n){t.spSex.spriteFrame=n});var o=resMgr.getDefaultAvatarUrl(e.userId);console.log(o),cc.loader.loadRes(o,cc.SpriteFrame,function(e,n){t.spAvatarIcon.spriteFrame=n})}}),cc._RF.pop()},{}],ConfigMgr:[function(e,t,n){"use strict";cc._RF.push(t,"ed25ex4C2JHVbatlusziGf0","ConfigMgr");var o=cc.Class({ctor:function(){this._requestItemTime=0,this._itemConfig={},this._requestTreasureTime=0,this._treasureConfig={}},requestItemConfig:function(){var e=cc.timeUtil.getTimeNow();if(e-this._requestItemTime>Consts.REQUEST_CONFIG_INTERVAL){pomelo.request("connector.configHandler.getItemConfig",this._onItemConfig.bind(this)),this._requestItemTime=e}},_onItemConfig:function(e){e.code;for(var t=e.configArray,n=0;n<t.length;n++){var o=t[n];this._itemConfig[o.id]=o}console.log(this._itemConfig)},getBagItemConfigArray:function(){var e=[];for(var t in this._itemConfig)this._itemConfig[t].kind!=Consts.ItemKind.CURRENCY&&e.push(this._itemConfig[t]);return e},getItemConfig:function(e){return e?this._itemConfig[e]:null},getItemTitle:function(e){var t="",n=this.getItemConfig(e);return n&&(t=n.title),t},getItemDesc:function(e){var t="",n=this.getItemConfig(e);return n&&(t=n.desc),t},getItemTip:function(e){var t="",n=this.getItemConfig(e);return n&&(t=n.tip),t},getItemKind:function(e){var t=Consts.ItemKind.INVALID,n=this.getItemConfig(e);return n&&(t=n.kind),t},getItemSwitch:function(e){var t="",n=this.getItemConfig(e);return n&&(t=n.switch),t},getItemOperator:function(e){var t="",n=this.getItemConfig(e);return n&&(t=n.operator),t},requestTreasureConfig:function(){var e=cc.timeUtil.getTimeNow();if(e-this._requestTreasureTime>Consts.REQUEST_CONFIG_INTERVAL){pomelo.request("connector.configHandler.getTreasureConfig",this._onTreasureConfig.bind(this)),this._requestItemTime=e}},_onTreasureConfig:function(e){e.code;for(var t=e.configArray,n=0;n<t.length;n++){var o=t[n];this._itemConfig[o.id]=o}console.log(this._itemConfig)}});"undefined"==typeof configMgr&&(window.configMgr=new o),cc._RF.pop()},{}],DataMgr:[function(e,t,n){"use strict";cc._RF.push(t,"e37ce1uGtFMMqeYURAiOtYC","DataMgr"),cc.DataMgr=cc.Class({ctor:function(){},reportAnalytics:function(e,t){console.log("reportAnalytics"),cc.sys.platform===cc.sys.WECHAT_GAME&&"zjtd"===cc.config.platform&&this.dataAnalytics_zjtd(e,t)},dataAnalytics_zjtd:function(e,t){console.log(e),console.log(t),tt.reportAnalytics(e,t)}}),"undefined"==typeof DataMgr&&(window.DataMgr=new cc.DataMgr),cc._RF.pop()},{}],DayInviteWin:[function(e,t,n){"use strict";cc._RF.push(t,"4036bSRGJRClaqRCMqAY9sF","DayInviteWin"),cc.Class({extends:cc.Component,properties:{lbTip:cc.Label,taskList:cc.ScrollView},onLoad:function(){userMgr.requestTask("invite",this._onTaskList.bind(this))},start:function(){},onCloseClicked:function(e){this.node.destroy()},onMaskClicked:function(e){this.node.destroy()},onInviteClicked:function(e){var t="[\u6597\u517d\u68cb\u6765\u4e86]"+userMgr.getNickName()+" \u9080\u60a8\u52a0\u5165\u4e00\u8d77\u6e38\u620f!",n="userId="+userMgr.getUserId();anysdkMgr.shareApplet(t,"",n)},_onTaskList:function(e){for(var t=this.taskList.content.children,n=this.taskList.content.childrenCount,o=0;o<n;o++)t[o].active=!1;for(var s=0,i=-10,c=0;c<e.length;c++){var r=e[c],a=userMgr.getTaskById(r);if(a){var l=t[s++];l||(l=resMgr.getPrefabInstance("TaskItem"),this.taskList.content.addChild(l)),l.active=!0,l.setPosition(0,i-l.height/2),l.getComponent("TaskItem").updateItem(a),i-=l.height+10}}}}),cc._RF.pop()},{}],DayTaskWin:[function(e,t,n){"use strict";cc._RF.push(t,"d0641DCl4FO6KXuFdpF4LWc","DayTaskWin"),cc.Class({extends:cc.Component,properties:{rtDsc:cc.RichText,taskList:cc.ScrollView},onLoad:function(){userMgr.requestTask("common",this._onTaskList.bind(this))},start:function(){},onCloseClicked:function(e){this.node.destroy()},onMaskClicked:function(e){this.node.destroy()},_onTaskList:function(e){for(var t=this.taskList.content.children,n=this.taskList.content.childrenCount,o=0;o<n;o++)t[o].active=!1;for(var s=0,i=-10,c=0;c<e.length;c++){var r=e[c],a=userMgr.getTaskById(r);if(a){var l=t[s++];l||(l=resMgr.getPrefabInstance("TaskItem"),this.taskList.content.addChild(l)),l.active=!0,l.setPosition(0,i-l.height/2),l.getComponent("TaskItem").updateItem(a),i-=l.height+10}}}}),cc._RF.pop()},{}],ForceUpdateWin:[function(e,t,n){"use strict";cc._RF.push(t,"5d004fI23RBaqEcurhGCgjH","ForceUpdateWin"),cc.Class({extends:cc.Component,properties:{rtTitle:cc.RichText,rtDsc:cc.RichText,rtTip:cc.RichText},start:function(){},updateItem:function(e,t,n){this.rtTitle.string=e,this.rtDsc.string=t,this.rtTip.string=n},onExistClicked:function(e){cc.game.end()},onUpdateClicked:function(e){},onHelperClicked:function(e){}}),cc._RF.pop()},{}],GameItem:[function(e,t,n){"use strict";cc._RF.push(t,"01685c4LZJKTo0gsep56MZr","GameItem"),cc.Class({extends:cc.Component,properties:{bgMask:cc.Node,progressMask:cc.Node,spBg:cc.Sprite,spProgress:cc.Sprite,spIcon:cc.Sprite,_id:null,_title:null,_icon:null},onLoad:function(){this.node.on("startUpdate",this._onStartUpdate,this),this.node.on("enterGame",this._onEnterGame,this)},start:function(){console.log("GameItem start")},onDestroy:function(){this.node.off("startUpdate"),this.node.off("enterGame")},updateItem:function(e){console.log("GameItem updateItem"),console.log(e),this._id=e.id,this._title=e.title,this._icon=e.icon,this.bgMask.active=!1,this.progressMask.active=!1,this.spIcon.node.active=!0;var t=gameMgr.isGameDownLoad(this._id);this.spIcon.node.opacity=t?255:150},onClicked:function(e){var t=this;gameMgr.checkNeedUpdate(this._id,function(e,n,o){if(e)return console.error("GameItem onClicked is fail. error=%s",e.stack),void cc.alert.show("\u63d0\u793a","\u68c0\u67e5\u6e38\u620f\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u91cd\u8bd5\u3002");n!=Code.NONE_INTERNET?n!=Code.NEW_ENGINE?n!=Code.NEW_VERSION?t.node.emit("enterGame",{gameId:t._id}):t.node.emit("startUpdate"):cc.alert.show("\u63d0\u793a","\u60a8\u7684\u5ba2\u6237\u7aef\u7248\u672c\u8fc7\u4f4e\uff0c\u8bf7\u66f4\u65b0\u5ba2\u6237\u7aef\u7248\u672c\u3002"):cc.alert.show("\u63d0\u793a","\u672a\u8fde\u63a5\u5230\u7f51\u7edc\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u7f51\u7edc\u540e\u91cd\u65b0\u3002")})},_onStartUpdate:function(e){cc.log(e),pomelo.emit("updateGame",{step:1}),this.spIcon.node.active=!1,this.bgMask.active=!0,this.progressMask.active=!0,this._setProgress(0),gameMgr.downloadGame(this._id,this._onDownloadProcess.bind(this),this._onDownloadFinish.bind(this))},_onEnterGame:function(e){var t=e.gameId;gameMgr.enterGame(t)},_onDownloadProcess:function(e){this._setProgress(e)},_onDownloadFinish:function(e){e?(this.bgMask.active=!1,this.progressMask.active=!1,this.spIcon.node.active=!0,this.spIcon.node.opacity=255):(this.bgMask.active=!1,this.progressMask.active=!1,this.spIcon.node.active=!0,this.spIcon.node.opacity=150),pomelo.emit("updateGame",{step:2})},_setProgress:function(e){e||(e=0),this.spProgress.fillRange=e}}),cc._RF.pop()},{}],GameJungle:[function(e,t,n){"use strict";cc._RF.push(t,"5f9fcNMhupFJL1Nkp+zVyDR","GameJungle"),cc.Class({extends:cc.Component,properties:{board:cc.Node,players:{default:[],type:[cc.Node]},stepCutdown:cc.Node,leftTopPos:cc.Node,yaoqingWin:cc.Node,disableMusic:cc.Node,disableVoice:cc.Node,luping:cc.Node,luPingZhong:cc.Node,spLupingDian:cc.Node,xianshouTip:cc.Node,curTurn:cc.Node},ctor:function(){console.log("++++++++++++++GameJungle ctor++++++++++++++"),this._selectedIndex=-1,this._chessList=[],this._palyerData=[],this._roomId=null,this._ownerId=-1,this._roomState=0,this._maxRound=0,this._curRound=0,this._buttonChairId=-1,this._gameState=0,this._turnUserId=-1,this._isGiveUp=!1},onLoad:function(){console.log("++++++++++++++GameJungle onLoad++++++++++++++");var e=cc.resMgr.getPrefabInstance("Alert");this.node.addChild(e,99999),cc.alert=e.getComponent("Alert"),e=cc.resMgr.getPrefabInstance("Waiting"),this.node.addChild(e,99999),cc.wt=e.getComponent("Waiting"),e=cc.resMgr.getPrefabInstance("Tip"),this.node.addChild(e,99999),cc.tip=e.getComponent("Tip"),e=cc.resMgr.getPrefabInstance("TipJungle"),this.node.addChild(e,99999),cc.gameTip=e.getComponent("TipJungle"),pomelo.on("onQueueUp",this._onQueueUp,this),pomelo.on("onBegin",this._onBegin,this),pomelo.on("onAdd",this._onAdd,this),pomelo.on("onDissolve",this._onDissolve,this),pomelo.on("onOpened",this._onOpened,this),pomelo.on("onChoosed",this._onChoosed,this),pomelo.on("onDiscard",this._onDiscard,this),pomelo.on("onGameOver",this._onGameOver,this),pomelo.on("onGameResult",this._onGameResult,this),pomelo.on("onEmoji",this._onEmoji,this),pomelo.on("C2CLoginFail",this._onC2CLoginFail,this),pomelo.on("C2CVideoStop",this._onC2CVideoStop,this),this._refreshMusic(),this._refreshVoice(),this.xianshouTip.active=!1,DataMgr.reportAnalytics("enterGame",{name:userMgr.getNickName(),uid:userMgr.getUserId()}),cc.sys.platform===cc.sys.WECHAT_GAME&&"zjtd"===cc.config.platform?(this.luping.active=!0,this.luPingZhong.active=!1,this.spLupingDian.runAction(cc.repeatForever(cc.blink(5,5)))):(this.luping.active=!1,this.luPingZhong.active=!1,this.spLupingDian.runAction(cc.repeatForever(cc.blink(5,5))))},start:function(){var e=this,t=userMgr.getQueryGameId(),n=userMgr.getQueryRoomId();userMgr.setQueryGameId(null),userMgr.setQueryRoomId(null),t?userMgr.joinRoom(t,n,function(t){if(cc.log(t),t&&t.code==Code.OK)pomelo.request("connector.gameHandler.getRoomInfo",e._onRoomInfo.bind(e));else{cc.alert.show("\u63d0\u793a","\u52a0\u5165\u623f\u95f4\u5931\u8d25\uff0c\u8bf7\u60a8\u91cd\u65b0\u52a0\u5165",function(){userMgr.loadScene("hall")})}}):pomelo.request("connector.gameHandler.getRoomInfo",this._onRoomInfo.bind(this))},onDestroy:function(){pomelo.off("onQueueUp",this._onQueueUp,this),pomelo.off("onBegin",this._onBegin,this),pomelo.off("onAdd",this._onAdd,this),pomelo.off("onDissolve",this._onDissolve,this),pomelo.off("onOpened",this._onOpened,this),pomelo.off("onChoosed",this._onChoosed,this),pomelo.off("onDiscard",this._onDiscard,this),pomelo.off("onGameOver",this._onGameOver,this),pomelo.off("onGameResult",this._onGameResult,this),pomelo.off("onEmoji",this._onEmoji,this),pomelo.off("C2CLoginFail",this._onC2CLoginFail,this),pomelo.off("C2CVideoStop",this._onC2CVideoStop,this),VideosRecordMgr.recordStop(null,!0),cc.sys.platform===cc.sys.WECHAT_GAME&&cc.config.platform},setMaxRound:function(e){this._maxRound=e},getMaxRound:function(){return this._maxRound},setCurRound:function(e){this._curRound=e},getCurRound:function(){return this._curRound},getPlayerCount:function(){return 2},setRoomStep:function(e){this._roomStep=e},getRoomStep:function(){return this._roomStep},setRoomId:function(e){this._roomId=e},getRoomId:function(){return this._roomId},setOwnerId:function(e){this._ownerId=e},setTurnUserId:function(e){var t=this;this._turnUserId=e;var n=this.getPlayerByIndex(0),o=this.getPlayerByIndex(1),s="/client/jungle/texture/blue_my_turn";e==userMgr.getUserId()?(n.playTurn(),o.playWait(),this.getButtonChairId()==n.getChairId()&&(s="/client/jungle/texture/red_my_turn")):(n.playWait(),o.playTurn(),s="/client/jungle/texture/blue_other_turn",this.getButtonChairId()==o.getChairId()&&(s="/client/jungle/texture/red_other_turn")),cc.loader.loadRes(s,cc.SpriteFrame,function(e,n){t.curTurn.getComponent(cc.Sprite).spriteFrame=n})},getPlayerByIndex:function(e){var t=null;return e>=0&&e<this.getPlayerCount()&&(t=this.players[e].getComponent("PlayerJungle")),t},getPlayerByUserId:function(e){for(var t=null,n=0;n<this.getPlayerCount();n++){var o=this.getPlayerByIndex(n);if(o&&o.getUserId()==e){t=o;break}}return t},setButtonChairId:function(e){this._buttonChairId=e;for(var t=this.getPlayerCount()-1;t>=0;t--){this.getPlayerByIndex(t).setButtonChairId(e)}},getButtonChairId:function(){return this._buttonChairId},getChessComponentByIndex:function(e){return"number"!=typeof e||e<0||e>=this._chessList.length?null:this._chessList[e].getComponent("ChessJungle")},onMusicClicked:function(e){var t=audioMgr.getBGMvolume();t=t<=0?.5:0,audioMgr.setBGMVolume(t),this._refreshMusic(),DataMgr.reportAnalytics("onMusicClicked",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onVoiceClicked:function(e){var t=audioMgr.getSFXVolume();t=t<=0?1:0,audioMgr.setSFXVolume(t),this._refreshVoice(),DataMgr.reportAnalytics("onVoiceClicked",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onGiveUpClicked:function(e){this._isGiveUp=!0,pomelo.request("connector.gameHandler.giveUp",function(e){e&&e.code!=Code.OK&&cc.tip.show(e.code)}),DataMgr.reportAnalytics("onGiveUpClicked",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onHelperClicked:function(e){var t=resMgr.getPrefabInstance("HelperWin");t.active=!0,this.node.addChild(t),DataMgr.reportAnalytics("gamehelp",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onEmojiClicked:function(e){var t={emoji:e.target.name};pomelo.request("connector.gameHandler.emoji",t,function(e){})},onInvestClick:function(){this.yaoqingWin.active=!0},onLeaveClicked:function(){cc.alert.show("\u63d0\u793a","\u786e\u8ba4\u4e2d\u9014\u79bb\u5f00?",function(){pomelo.request("connector.gameHandler.leaveRoom",function(e){}),userMgr.loadScene("hall")}),DataMgr.reportAnalytics("onLeaveClicked",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onWXShare:function(){this.yaoqingWin.active=!1},onQQShare:function(){this.yaoqingWin.active=!1},onVideoRecord:function(){var e=this;cc.sys.platform===cc.sys.WECHAT_GAME&&"zjtd"===cc.config.platform&&(VideosRecordMgr.onStart(function(t){e.luping.active=!1,e.luPingZhong.active=!0}),VideosRecordMgr.recordStart())},_onC2CVideoStop:function(e){this.luping&&this.luPingZhong&&(this.luping.active=!0,this.luPingZhong.active=!1)},onVideoRecordStop:function(){cc.sys.platform===cc.sys.WECHAT_GAME&&"zjtd"===cc.config.platform&&VideosRecordMgr.recordStop()},_seatindex2index:function(e){return(e-userMgr.getSeatIndex()+2)%2},_xianshouTipShow:function(e){this.xianshouTip.getChildByName("tip_fnt").getComponent("cc.Label").string=e;var t=cc.fadeIn(.3),n=cc.fadeOut(.3),o=cc.delayTime(1),s=cc.sequence([t,o,n]);this.xianshouTip.runAction(s)},_onRoomInfo:function(e){if(cc.log("_onRoomInfo"),cc.log(e),this.xianshouTip.active=!1,e&&e.code==Code.OK){userMgr.setSceneId(Consts.SceneId.PGMJ_GAME),userMgr.setRoomId(e.roomId),this.setRoomId(e.roomId),this.setOwnerId(e.ownerId),this.setRoomStep(e.roomStep),this.setMaxRound(e.maxRound),this.setCurRound(e.curRound),this._setLastIndex(e.lastIndex),this.stepCutdown.getComponent("StepCutDownJungle").setMaxStepCutdown(e.maxStepCutdown);var t=e.playerArray;this._palyerData=e.playerArray;for(var n=0;n<t.length;n++){if((o=t[n]).userId==userMgr.getUserId()){userMgr.setSeatIndex(o.chairId);break}}for(n=0;n<t.length;n++){var o=t[n],s=this._seatindex2index(o.chairId);cc.log("index = %d",s);var i=this.getPlayerByIndex(s);i&&i.updateItem(o)}var c=this.getPlayerByIndex(0);c&&(c.getGameState()!=Consts.GameState.UNREADY||this.getCurRound()<1&&pomelo.request("connector.gameHandler.beReady",{},function(e){if(!e||e.code!=Code.OK){cc.alert.show("\u63d0\u793a","\u623f\u95f4\u5df2\u89e3\u6563\uff0c\u8bf7\u91cd\u65b0\u52a0\u5165\u5176\u4ed6\u623f\u95f4\u3002",function(){userMgr.backToHall()})}})),e.roomStep!=Consts.RoomStep.LOOP&&e.roomStep!=Consts.RoomStep.END||(this.setButtonChairId(e.buttonChairId),this.setStepCutdown(e.stepCutdown),this.setTurnUserId(e.turnUserId),this._updateChesses(e.chessArray)),e.roomStep==Consts.RoomStep.END&&cc.alert.show("\u63d0\u793a","\u6e38\u620f\u5df2\u7ecf\u7ed3\u675f")}else e&&(e.code,Code.NONE_ROOM)},_onBegin:function(e){console.log("_onBegin"),console.log(e),this.setRoomStep(e.roomStep),this.setButtonChairId(e.buttonChairId),this.setTurnUserId(e.turnUserId),this.xianshouTip.active=!0,e.turnUserId==userMgr.getUserId()?this._xianshouTipShow("\u4f60\u5148\u624b"):this._xianshouTipShow("\u5bf9\u65b9\u5148\u624b"),this._isGiveUp=!1;var t=this.getPlayerByIndex(0);t&&t.setGameState(e.gameState),this._updateChesses(e.chessArray),this.setStepCutdown(e.stepCutdown)},_onGameOver:function(e){var t=this;cc.log("GameJungle _onGameOver"),cc.log(e),this.setRoomStep(e.roomStep),this.setStepCutdown(0);for(var n=e.coverArray,o=n?n.length:0,s=0;s<o;s++){var i=n[s],c=this.getChessComponentByIndex(i.index);c&&c.setChess(i.chess)}var r=1.3;this._isGiveUp||(r=1.8),this.scheduleOnce(function(){var n=resMgr.getPrefabInstance("ResultWin");n.getComponent("ResultWin").updateItem(e.playerArray),n.active=!0,t.node.addChild(n)},r);var a=e.playerArray;if(Array.isArray(a)&&!(a.length<=0)){var l=null;for(s=0;s<a.length;s++)if(a[s].userId==userMgr.getUserId()){l=a[s];break}var u=l.resultType;u==Consts.ResultType.LOSE?this.scheduleOnce(function(){cc.gameTip.show("baiBei")},r-1):u==Consts.ResultType.DRAW||cc.gameTip.show("success")}},_onGameResult:function(e){cc.log("GameJungle _onGameResult"),cc.log(e)},_onAdd:function(e){cc.log("_onAdd : "),cc.log(e);var t=e;if(e.userId==userMgr.getUserId()){var n=this.getPlayerByIndex(0);n&&n.updateItem(t)}else{var o=this.getPlayerByIndex(1);o&&o.updateItem(t)}},_onDissolve:function(e){cc.log("_onDissolve"),cc.log(e);cc.alert.show("\u63d0\u793a","\u5bf9\u65b9\u672a\u53ca\u65f6\u52a0\u5165\u6e38\u620f\uff0c\u6e38\u620f\u5df2\u89e3\u6563",function(){userMgr.loadScene("hall")})},_onOpened:function(e){if(cc.log("_onOpened"),cc.log(e),audioMgr.playSFX("chess_action","/client/jungle"),this._selectedIndex>=0){var t=this.getChessComponentByIndex(this._selectedIndex);t.stopJumpForever(),t.hideArrow(),this._selectedIndex=-1}var n=e.targetIndex,o=e.chess;e.surplusRound;this._setLastIndex(e.lastIndex),this.setStepCutdown(e.stepCutdown),this.setTurnUserId(e.turnUserId);var s=this.getChessComponentByIndex(n);s&&s.setChess(o)},_onChoosed:function(e){if(cc.log("_onChoosed"),cc.log(e),this._selectedIndex>=0){var t=this.getChessComponentByIndex(this._selectedIndex);t.stopJumpForever(),t.hideArrow(),this._selectedIndex=-1}var n=e.targetIndex,o=this.getChessComponentByIndex(n);if(o){o.jumpForever();for(var s=[-1,-1,-1,-1],i=[-4,4,-1,1],c=0;c<=3;c++){var r=this.getChessComponentByIndex(n+i[c]);r&&r.getChessId()>0&&(r.getChessChairId()==o.getChessChairId()?s[c]=0:8==r.getChessId()&&1==o.getChessId()||o.getChessId()>=r.getChessId()?s[c]=1:s[c]=0)}o.showArrow(s),this._selectedIndex=n}},_onDiscard:function(e){if(cc.log("_onDiscard"),cc.log(e),this._selectedIndex>=0){var t=this.getChessComponentByIndex(this._selectedIndex);t.stopJumpForever(),t.hideArrow(),this._selectedIndex=-1}Consts.ChessState;this.setStepCutdown(e.stepCutdown),this.setTurnUserId(e.turnUserId),this._setLastIndex(-1);var n=e.srcIndex,o=e.dstIndex,s=this.getChessComponentByIndex(n),i=this.getChessComponentByIndex(o);audioMgr.playSFX("chess_action","/client/jungle"),s.jumpTo(i.getPosition(),function(){s.setChess(e.srcChess),i.setChess(e.dstChess),s.resetPosition()})},_onQueueUp:function(e){var t=this;cc.log(e);var n=e.sceneId,o=e.roomId;e.playerArray;userMgr.joinRoom(n,o,function(e){if(cc.log(e),e&&e.code==Code.OK)pomelo.request("connector.gameHandler.getRoomInfo",t._onRoomInfo.bind(t));else{cc.alert.show("\u63d0\u793a","\u52a0\u5165\u623f\u95f4\u5931\u8d25\uff0c\u8bf7\u60a8\u91cd\u65b0\u52a0\u5165",function(){userMgr.loadScene("hall")})}})},_onEmoji:function(e){cc.log("_onEmoji"),cc.log(e)},_onChessClicked:function(e){if(this.getRoomStep()==Consts.RoomStep.LOOP){Consts.ChessId;var t=Consts.ChessState,n=e.target.getComponent("ChessJungle");if(!n)return cc.warn("\u68cb\u5b50\u9003\u8dd1\u4e86"),void cc.tip.show("\u68cb\u5b50\u9003\u8dd1\u4e86!");var o=n.getIndex();if(cc.warn("_onChessClicked target chessState=%d selectIndex=%d",n.getChessState(),this._selectedIndex),n.getChessState()==t.COVER){var s={targetIndex:o};pomelo.request("connector.jungleHandler.open",s,function(e){e&&e.code!=Code.OK&&cc.tip.show(e.code)})}else if(n.getChessState()==t.UNCOVER)do{if(this._selectedIndex<0){if(n.getChessChairId()!=userMgr.getChairId()){cc.gameTip.show("noGo");break}s={targetIndex:o};pomelo.request("connector.jungleHandler.choose",s,function(e){e&&e.code!=Code.OK&&cc.tip.show(e.code)});break}if(n.getChessChairId()==userMgr.getChairId()){s={targetIndex:o};pomelo.request("connector.jungleHandler.choose",s,function(e){e&&e.code!=Code.OK&&cc.tip.show(e.code)});break}var i=this.getChessComponentByIndex(this._selectedIndex).getIndex(),c=n.getIndex();this._discard(i,c)}while(0);else if(this._selectedIndex>=0){i=this.getChessComponentByIndex(this._selectedIndex).getIndex(),c=n.getIndex();this._discard(i,c)}}else cc.tip.show("\u6e38\u620f\u672a\u5f00\u59cb/\u5df2\u7ed3\u675f")},updateSeatStatus:function(e){if(!(e.length<2))for(var t=e.length-1;t>=0;t--){var n=e[t];if(n.userId==userMgr.getUserId()){this.getPlayerByIndex(0).updateItem(n)}else{var o=this.getPlayerByIndex(1);o&&o.updateItem(n)}}},_updateChesses:function(e){for(var t=this.leftTopPos.x,n=this.leftTopPos.y,o=(e=e)?e.length:0,s=0;s<o;s++){var i=e[s],c=null;if(this._chessList[s])c=this._chessList[s].getComponent("ChessJungle");else{var r=resMgr.getPrefabInstance("Chess");r.setPosition(t+s%4*174,n-190*Math.floor(s/4)),r.active=!0,this.board.addChild(r),this._chessList.push(r),r.on(cc.Node.EventType.TOUCH_START,function(e){},this),r.on(cc.Node.EventType.TOUCH_MOVE,function(e){},this),r.on(cc.Node.EventType.TOUCH_END,function(e){this._onChessClicked(e)},this),r.on(cc.Node.EventType.TOUCH_CANCEL,function(e){},this),c=r.getComponent("ChessJungle")}c.resetPosition(),c.setIndex(s),c.setChess(i),c.setButtonChairId(this.getButtonChairId())}},setStepCutdown:function(e){this.stepCutdown.getComponent("StepCutDownJungle").setCutdownTime(e)},_discard:function(e,t){if(e!=t&&this._isValidDiscardIndex(e,t)){var n={srcIndex:e,dstIndex:t};pomelo.request("connector.jungleHandler.discard",n,function(e){e&&e.code!=Code.OK&&cc.tip.show(e.code)})}},_setLastIndex:function(e){for(var t=0;t<this._chessList.length;t++){var n=this.getChessComponentByIndex(t);n&&n.hideLastStep()}var o=this.getChessComponentByIndex(e);o&&o.showLastStep()},_isValidDiscardIndex:function(e,t){if(cc.warn("discard index srcIndex=%d dstIndex=%d",e,t),e<0||e>=16)return!1;if(t<0||t>=16)return!1;var n=[-1,1,-4,4],o=[1,-4,4],s=[-1,-4,4],i=e%4;if(0==i)for(var c=0;c<o.length;c++){if(e+o[c]==t)return!0}else if(3==i)for(c=0;c<s.length;c++){if(e+s[c]==t)return!0}else for(c=0;c<n.length;c++){if(e+n[c]==t)return!0}return!1},_refreshMusic:function(){var e=audioMgr.getBGMvolume();this.disableMusic.active=e<=0},_refreshVoice:function(){var e=audioMgr.getSFXVolume();this.disableVoice.active=e<=0},_onC2CLoginFail:function(e){userMgr.loadScene("login")}}),cc._RF.pop()},{}],GameMgr:[function(e,t,n){"use strict";cc._RF.push(t,"505d47NZr1CVKvTcr5Vbb3o","GameMgr"),cc.gameMgr={_storagePath:[],_gameId:null,getStoragePath:function(e){var t=this._storagePath[e];return t||(t=this._storagePath[e]=(cc.sys.isNative&&jsb.fileUtils?jsb.fileUtils.getWritablePath():"/")+"client/"+e),t},downloadGame:function(e,t,n){cc.warn("downloadGame gameId=%s",e),this._downloadCallback=t,this._finishCallback=n,this._gameId=e;var o=config.assets_url+"/"+this._gameId,s=this.getStoragePath(this._gameId),i=s+"/project.manifest",c=JSON.stringify({packageUrl:o+"/v1.0.0/",remoteManifestUrl:o+"/project.manifest",remoteVersionUrl:o+"/version.manifest",version:"1.0.0",engineVersion:"1.0.0",assets:{},searchPaths:[]});if(this._am=new jsb.AssetsManager(i,s,function(e,t){for(var n=e.split("."),o=t.split("."),s=0;s<n.length;++s){var i=parseInt(n[s]),c=parseInt(o[s]||0);if(i!==c)return i-c}return o.length>n.length?-1:0}),cc.sys.ENABLE_GC_FOR_NATIVE_OBJECTS,this._am.setVerifyCallback(function(e,t){console.log("--------------------verifyHandle------------------");var n=t.compressed,o=t.md5,s=t.path;t.size;return n?(cc.log("Verification passed : "+s),!0):(cc.log("Verification passed : "+s+" ("+o+")"),!0)}),cc.sys.os===cc.sys.OS_ANDROID&&this._am.setMaxConcurrentTask(2),this._am.setEventCallback(this._updateCb.bind(this)),this._am.getState()===jsb.AssetsManager.State.UNINITED){var r=new jsb.Manifest(c,s);this._am.loadLocalManifest(r,s)}this._am.update(),this._failCount=0,this._updating=!0,cc.log("\u66f4\u65b0\u6587\u4ef6\uff1a files=%s storagePath=%s",i,s)},enterGame:function(e){var t=this.getStoragePath(e);console.log("enterGame gameId=%s storagePath=%s",e,t),jsb.fileUtils&&jsb.fileUtils.isDirectoryExist(t)?(console.log("3333333333333333333"),"jungle"==e?anysdkMgr.changeOrientation(cc.macro.ORIENTATION_PORTRAIT):anysdkMgr.changeOrientation(cc.macro.ORIENTATION_LANDSCAPE),window._require(t+"/src/main.js"),userMgr.setGameId(e)):cc.alert.show("\u63d0\u793a","\u6e38\u620f\u4e0b\u8f7d\u5931\u8d25")},isGameDownLoad:function(e){if(!cc.sys.isNative)return!1;if(userMgr.getDefaultGameId()==e)return!0;var t=this.getStoragePath(e)+"/project.manifest";return!(!jsb.fileUtils||!jsb.fileUtils.isFileExist(t))},checkNeedUpdate:function(e,t){console.log("checkNeedUpdate start gameId=%s",e);var n={gameId:e,resVersion:userMgr.getResVersion(e),engineVersion:this.getEngineVersion(e)};cc.http.get(config.update_url+"/update/getVersion",n,function(e,n){if(console.log("checkNeedUpdate ret=%s",JSON.stringify(n)),e||!n)return console.warn("checkNeedUpdate.code=%d error=%s",n?n.code:"null",e?e.stack:null),void t(null,Code.NONE_INTERNET);t(null,n.code,n)})},getEngineVersion:function(e){var t="1.0.0";do{if(!e)break;var n=this.getStoragePath(e)+"/project.manifest",o=jsb.fileUtils.getStringFromFile(n);if(!o)break;var s=JSON.parse(o);t=s.engineVersion,console.log("version.mainifest resVersion=%s engineVersion=%s",s.version,s.engineVersion)}while(0);return t},_updateCb:function(e){var t=!1;switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:cc.log("updateCb\u672c\u5730\u6ca1\u6709\u914d\u7f6e\u6587\u4ef6"),t=!0;break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:cc.log("updateCb\u4e0b\u8f7d\u914d\u7f6e\u6587\u4ef6\u9519\u8bef"),t=!0;break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:cc.log("updateCb\u89e3\u6790\u6587\u4ef6\u9519\u8bef"),t=!0;break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:cc.log("updateCb\u53d1\u73b0\u65b0\u7684\u66f4\u65b0");break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:cc.log("updateCb\u5df2\u7ecf\u662f\u6700\u65b0\u7684"),this._onUpdateFinish&&this._onUpdateFinish(!0);break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:this._downloadCallback&&this._downloadCallback(e.getPercentByFile());break;case jsb.EventAssetsManager.ASSET_UPDATED:break;case jsb.EventAssetsManager.ERROR_UPDATING:cc.log("updateCb\u66f4\u65b0\u9519\u8bef");break;case jsb.EventAssetsManager.UPDATE_FINISHED:this._onUpdateFinish&&this._onUpdateFinish(!0);break;case jsb.EventAssetsManager.UPDATE_FAILED:this._failCount++,this._failCount<=3?(this._am.downloadFailedAssets(),cc.log("updateCb\u66f4\u65b0\u5931\u8d25"+this._failCount+" \u6b21")):(cc.log("updateCb\u5931\u8d25\u6b21\u6570\u8fc7\u591a"),this._failCount=0,t=!0,this._updating=!1);break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:cc.log("updateCb\u89e3\u538b\u5931\u8d25")}t&&(this._updating=!1,this._onUpdateFinish&&this._onUpdateFinish(!1))},_checkCb:function(e){var t=!1;switch(e.getEventCode()){case jsb.EventAssetsManager.ERROR_NO_LOCAL_MANIFEST:cc.log("checkCb\u672c\u5730\u6ca1\u6709\u914d\u7f6e\u6587\u4ef6");break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:cc.log("checkCb\u4e0b\u8f7d\u914d\u7f6e\u6587\u4ef6\u9519\u8bef"),t=!0;break;case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:cc.log("checkCb\u89e3\u6790\u6587\u4ef6\u9519\u8bef"),t=!0;break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:break;case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:cc.log("checkCb\u5df2\u7ecf\u662f\u6700\u65b0\u7684"),this._finishCallback&&this._finishCallback(!0);break;case jsb.EventAssetsManager.UPDATE_PROGRESSION:case jsb.EventAssetsManager.ASSET_UPDATED:break;case jsb.EventAssetsManager.ERROR_UPDATING:cc.log("checkCb\u66f4\u65b0\u9519\u8bef"),t=!0;break;case jsb.EventAssetsManager.UPDATE_FINISHED:cc.log("checkCb\u66f4\u65b0\u5b8c\u6210");break;case jsb.EventAssetsManager.UPDATE_FAILED:cc.log("checkCb\u66f4\u65b0\u5931\u8d25"),t=!0;break;case jsb.EventAssetsManager.ERROR_DECOMPRESS:cc.log("checkCb\u89e3\u538b\u5931\u8d25")}this._updating=!1,t&&this._finishCallback&&this._finishCallback(!1)},_needUpdate:function(e){switch(e.getEventCode()){case jsb.EventAssetsManager.ALREADY_UP_TO_DATE:cc.log("\u5b50\u6e38\u620f\u5df2\u7ecf\u662f\u6700\u65b0\u7684\uff0c\u4e0d\u9700\u8981\u66f4\u65b0"),this._onUpdateFinish&&this._onUpdateFinish(!1);break;case jsb.EventAssetsManager.NEW_VERSION_FOUND:cc.log("\u5b50\u6e38\u620f\u9700\u8981\u66f4\u65b0"),this._onUpdateFinish&&this._onUpdateFinish(!0);break;case jsb.EventAssetsManager.ERROR_DOWNLOAD_MANIFEST:case jsb.EventAssetsManager.ERROR_PARSE_MANIFEST:case jsb.EventAssetsManager.ERROR_UPDATING:case jsb.EventAssetsManager.UPDATE_FAILED:this._downloadCallback(1)}},_onUpdateFinish:function(e){if(this._am.setEventCallback(null),jsb.fileUtils){var t=this.getStoragePath(this._gameId)+"/project.manifest",n=jsb.fileUtils.getStringFromFile(t);if(n){var o=JSON.parse(n);console.log("laste resVersion=%s engineVersion=%s",o.version,o.engineVersion),userMgr.setResVersion(this._gameId,o.version),userMgr.setEngineVersion(this._gameId,o.engineVersion)}}this._finishCallback&&this._finishCallback(e)}},"undefined"==typeof gameMgr&&(window.gameMgr=cc.gameMgr),cc._RF.pop()},{}],HTTP:[function(e,t,n){"use strict";cc._RF.push(t,"90ae61J525JQIt5taF3Nce2","HTTP"),cc.http={get:function(e,t,n){n||(n=function(t,n){console.log("default url=%s callback",e)});var o=cc.loader.getXMLHttpRequest();o.timeout=5e3;var s="?";for(var i in t)"?"!=s&&(s+="&"),s+=i+"="+t[i];var c=e+encodeURI(s);return cc.log("RequestURL=%s",c),o.open("GET",c,!0),cc.sys.isNative&&o.setRequestHeader("Accept-Encoding","gzip,deflate","text/html;charset=UTF-8"),o.onabort=function(){console.log("onabort")},o.onload=function(){console.log("onload")},o.onloadend=function(){console.log("onloadend")},o.onloadstart=function(){console.log("onloadstart")},o.onreadystatechange=function(){if(4===o.readyState)if(200==o.status)try{var e=JSON.parse(o.responseText);n(null,e)}catch(e){n(e,{code:Code.FAIL})}finally{console.log("http get is finally.")}else n(new Error("response is fail."),{code:o.status})},o.onerror=function(){console.log("onerror status=%d",o.status),n(new Error("response is error"),{code:Code.FAIL})},o.onprogress=function(){console.log("onprogress")},o.send(),o},post:function(e,t,n){}},"undefined"==typeof http&&(window.http=cc.http),cc._RF.pop()},{}],HallJungle:[function(e,t,n){"use strict";cc._RF.push(t,"465dckQSKZHs7mbvbc8FO8h","HallJungle"),cc.Class({extends:cc.Component,properties:{spAvatarIcon:cc.Sprite,lbNickName:cc.Label,spSex:cc.Sprite,lbVitPecent:cc.Label,vitProgress:cc.ProgressBar,lbCoin:cc.Label,lbGems:cc.Label,lbCash:cc.Label,joinGameWrapper:cc.Node,queueGameWrapper:cc.Node,createGameWrapper:cc.Node,returnGameWrapper:cc.Node},onLoad:function(){var e=this;console.log("++++++++++++++HallJungle onLoad++++++++++++++");var t=cc.resMgr.getPrefabInstance("Alert");this.node.addChild(t,cc.macro.MAX_ZINDEX),cc.alert=t.getComponent("Alert"),t=cc.resMgr.getPrefabInstance("Waiting"),this.node.addChild(t,cc.macro.MAX_ZINDEX),cc.wt=t.getComponent("Waiting"),t=resMgr.getPrefabInstance("Tip"),this.node.addChild(t,cc.macro.MAX_ZINDEX),cc.tip=t.getComponent("Tip"),this.lbNickName.string=userMgr.getNickName()+"(ID\uff1a"+userMgr.getUserId()+")";var n=resMgr.getDefaultAvatarUrl(userMgr.getUserId());cc.loader.loadRes(n,cc.SpriteFrame,function(t,n){e.spAvatarIcon.spriteFrame=n});var o=resMgr.getSexUrl(userMgr.getSex());cc.loader.loadRes(o,cc.SpriteFrame,function(t,n){t||(e.spSex.spriteFrame=n)}),pomelo.on("onGameInfo",this._onGameInfo,this),pomelo.on("onQueueUp",this._onQueueUp,this),pomelo.on("onAwardItem",this._onAwardItem,this),pomelo.on("C2CItemDetail",this._onC2CItemDetail,this),pomelo.on("C2CLoginFail",this._onC2CLoginFail,this),cc.sys.platform,cc.sys.WECHAT_GAME,pomelo.request("connector.entryHandler.getBaseInfo",this._onBaseInfo.bind(this)),configMgr.requestItemConfig(),pomelo.request("connector.entryHandler.getGameInfo",{},this._onRspGameInfo.bind(this)),DataMgr.reportAnalytics("HallJungle",{name:userMgr.getNickName(),uid:userMgr.getUserId()}),AdMgr.creatAd_zjtd()},onEnable:function(){this._switchGame(!1)},onDestroy:function(){cc.alert=null,cc.wt=null,cc.tip=null,AdMgr.hide(),pomelo.off("onGameInfo",this._onGameInfo,this),pomelo.off("onQueueUp",this._onQueueUp,this),pomelo.off("onAwardItem",this._onAwardItem,this),pomelo.off("C2CItemDetail",this._onC2CItemDetail,this),pomelo.off("C2CLoginFail",this._onC2CLoginFail,this),cc.sys.platform===cc.sys.WECHAT_GAME&&wx.offShareAppMessage(this._offShareAppMessage.bind(this))},onJoinClicked:function(e){var t=resMgr.getPrefabInstance("JoinGameWin");t.active=!0,this.node.addChild(t),DataMgr.reportAnalytics("onJoinClicked",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onQueueClicked:function(e){var t={sceneId:userMgr.getGameId()};pomelo.request("connector.queueHandler.queueUp",t,function(e){e&&e.code==Code.OK?userMgr.loadScene("single"):cc.tip.show(e.code)}),DataMgr.reportAnalytics("onQueueClicked",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onCreateRoomClicked:function(e){var t={gameId:config.game_id};pomelo.request("connector.clubHandler.createRoom",t,this._onCreateClubRoom.bind(this)),DataMgr.reportAnalytics("onCreateRoomClicked",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onReturnGameClicked:function(e){var t=this;userMgr.returnGame(function(e){if(e)return e.code!=Code.OK?(cc.tip.show(e.code),void t._switchGame(!1)):void userMgr.loadScene("game",e.sceneId);cc.tip.show("\u8fd4\u56de\u6e38\u620f\u5931\u8d25")}),DataMgr.reportAnalytics("onReturnGameClicked",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onBagClicked:function(e){var t=resMgr.getPrefabInstance("BagWin");t.active=!0,this.node.addChild(t)},onTreasureHuntClicked:function(e){},onDayTaskClicked:function(e){var t=resMgr.getPrefabInstance("DayTaskWin");t.active=!0,this.node.addChild(t)},onDayInviteClicked:function(e){var t=resMgr.getPrefabInstance("DayInviteWin");t.active=!0,this.node.addChild(t)},onMoreGameClicked:function(e){var t=resMgr.getPrefabInstance("MoreGameWin");t.active=!0,this.node.addChild(t),DataMgr.reportAnalytics("onMoreGameClicked",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onSettingClicked:function(){var e=resMgr.getPrefabInstance("SettingWin");e.getComponent("SettingWin").updateItem(),e.active=!0,this.node.addChild(e)},onAddVitClicked:function(e){var t=resMgr.getPrefabInstance("VitWin");t.active=!0,this.node.addChild(t)},onSelfInfoClicked:function(e){var t=resMgr.getPrefabInstance("SelfInfolWin");t.active=!0,this.node.addChild(t),DataMgr.reportAnalytics("onSelfInfoClicked",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onHelpClicked:function(e){var t=resMgr.getPrefabInstance("HelperWin");t.active=!0,this.node.addChild(t),DataMgr.reportAnalytics("lobbyhelp",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onShareClicked:function(e){var t="[\u6597\u517d\u68cb\u6765\u4e86]"+userMgr.getNickName()+" \u9080\u60a8\u52a0\u5165\u4e00\u8d77\u6e38\u620f!",n="userId="+userMgr.getUserId();anysdkMgr.shareApplet(t,"",n),DataMgr.reportAnalytics("lobbyshare",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onTurnTableClicked:function(e){},_switchGame:function(e){this.joinGameWrapper.active=!e,this.queueGameWrapper.active=!e,this.createGameWrapper.active=!e,this.returnGameWrapper.active=e},_onBaseInfo:function(e){cc.log(e),userMgr.setCoin(e.coin),userMgr.setGems(e.gems),userMgr.setVit(e.vit),userMgr.setVitTime(e.vitTime),userMgr.setMaxVit(e.maxVit),this._renderBaseInfo()},_onGameInfo:function(e){console.log("+++++++++HallDarkChess _onGameInfo++++++++"),console.log(e),e.roomId&&this._switchGame(!0)},_onRspGameInfo:function(e){if(console.log("+++++++++HallDarkChess _onRspGameInfo++++++++"),console.log(e),e&&e.code==Code.OK){if("club"==e.gameId)return userMgr.setQueryGameServerId(null),userMgr.setQueryRoomId(e.roomId),void userMgr.loadScene("club");console.log(e.roomId),e.roomId?this._switchGame(!0):(userMgr.queryUrl(),utils.queryGame())}else cc.tip.show(e.code)},_onQueueUp:function(e){this._switchGame(!0)},_onAwardItem:function(e){cc.log("_onAwardItem"),cc.log(e);var t=resMgr.getPrefabInstance("AwardWin");t.active=!0,this.node.addChild(t),t.getComponent("AwardWin").updateItem(e.itemArray)},_renderBaseInfo:function(){this.lbCoin.string=userMgr.getCoin(),this.lbGems.string=userMgr.getGems(),this.lbCash.string=userMgr.getCash(),this.lbVitPecent.string=userMgr.getVitPercentStr(),this.vitProgress.percent=userMgr.getVitProgress(),cc.log("_renderBaseInfo percent=%f",userMgr.getVitProgress())},_onC2CItemDetail:function(e){var t=e.itemId,n=resMgr.getPrefabInstance("ItemDetailWin");n.active=!0,this.node.addChild(n),n.getComponent("ItemDetailWin").updateItem(t)},_onCreateClubRoom:function(e){if(cc.log(e),e.code==Code.OK){var t=e.gameServerId,n=e.roomId;userMgr.setQueryGameServerId(t),userMgr.setQueryRoomId(n),userMgr.loadScene("club")}else cc.tip.show(e.code)},_onC2CLoginFail:function(e){userMgr.loadScene("login")},_onShareAppMessage:function(e){return{title:"\u6597\u517d\u68cb\u6765\u4e86",query:"userId="+userMgr.getUserId()}},_offShareAppMessage:function(e){}}),cc._RF.pop()},{}],HelperWinJungle:[function(e,t,n){"use strict";cc._RF.push(t,"fb8baOsBC1Bwq8Lw94MeP6c","HelperWinJungle"),cc.Class({extends:cc.Component,properties:{},start:function(){},onMaskClicked:function(e){this.node.destroy()},onSureClicked:function(e){this.node.destroy()}}),cc._RF.pop()},{}],HotUpdate:[function(e,t,n){"use strict";cc._RF.push(t,"17141EodNRM/4IpsE04IyCU","HotUpdate"),cc.Class({extends:cc.Component,properties:{progress:cc.ProgressBar,lbStepTip:cc.Label,lbPercent:cc.Label,lbSizeTip:cc.Label,forceUpdateWin:cc.Node,_failCount:0,_storagePath:"",_remoteManifestUrl:"",_am:null},onLoad:function(){var e=this;console.log("++++++++++++HotUpdate onLoad++++++++++++++++++"),this.node.on("updateFail",this._onUpdateFail,this),this.node.on("updateSuccess",this._onUpdateSuccess,this),this.node.on("restartGame",this._onRestartGame,this),this.node.on("hotUpdate",this._onHotUpdate,this),this.node.on("loadCommonRes",this._onLoadCommonRes.bind(this)),cc.alert=cc.find("Canvas/Alert").getComponent("Alert"),cc.wt=cc.find("Canvas/Waiting").getComponent("Waiting"),cc.tip=cc.find("Canvas/Tip").getComponent("Tip"),this.lbSizeTip.node.active=!1,DataMgr.reportAnalytics("hotupdate",{uid:"0"}),cc.sys.isNative?gameMgr.checkNeedUpdate(userMgr.getGameId(),function(t,n,o){return t||n==Code.OK?(console.error("hotupdate update is fail.code=%d error=%s",n,t?t.stack:"null"),void e.node.emit("updateSuccess")):n!=Code.NONE_INTERNET?n==Code.NEW_ENGINE?(e.forceUpdateWin.getComponent("ForceUpdateWin").updateItem(o.title,o.dsc,o.tip),void(e.forceUpdateWin.active=!0)):n==Code.NEW_VERSION?(e._setProgress(1),e._setStepTip("\u6b63\u5728\u68c0\u6d4b\u6e38\u620f..."),void e.node.emit("hotUpdate",{version:o.resVersion})):void e.node.emit("updateSuccess"):void cc.alert.show("\u63d0\u793a","\u672a\u8fde\u63a5\u5230\u7f51\u7edc\uff0c\u8bf7\u68c0\u67e5\u60a8\u7684\u7f51\u7edc\u540e\u91cd\u65b0\u3002")}):this.node.emit("updateSuccess")},onDestroy:function(){console.log("++++++++++++HotUpdate onDestroy++++++++++++++++++"),this.node.off("updateFail"),this.node.off("updateSuccess"),this.node.off("restartGame"),this.node.off("hotUpdate"),this.node.off("loadCommonRes"),cc.alert=null,cc.wt=null,cc.tip=null},_setStepTip:function(e){this.lbStepTip.string=e},_setProgress:function(e){this.progress.progress=e,this.lbPercent.string=Math.round(100*e)+"%"},setSizeRate:function(){},_onHotUpdate:function(e){this._setProgress(.1),this._setStepTip("\u6b63\u5728\u4e3a\u60a8\u4e0b\u8f7d\u66f4\u65b0\u8d44\u6e90\u5305...");e.version;gameMgr.downloadGame(userMgr.getGameId(),this._onDownloadProcess.bind(this),this._onDownloadFinish.bind(this))},update:function(e){},_onDownloadProcess:function(e){cc.log("download percent=%d",e),e||(e=.01),this._setProgress(e)},_onDownloadFinish:function(){cc.log("download finish"),this.node.emit("updateSuccess")},_onUpdateFail:function(e){var t=e.content||"\u66f4\u65b0\u5931\u8d25";cc.alert.show("\u63d0\u793a",t)},_onUpdateSuccess:function(e){console.log("++++++++++++HotUpdate _onUpdateSuccess++++++++++++++++++"),this._setProgress(1),this._setStepTip("\u6b63\u5728\u52a0\u8f7d\u8d44\u6e90\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85"),this.node.emit("loadCommonRes")},_onRestartGame:function(e){cc.log("+++++++++++++++_onRestartGame+++++++++++++++++++"),this._am.setEventCallback(null);var t=jsb.fileUtils.getSearchPaths(),n=this._am.getLocalManifest().getSearchPaths();Array.prototype.unshift(t,n),cc.sys.localStorage.setItem("HotUpdateSearchPaths",t),jsb.fileUtils.setSearchPaths(t),this._setStepTip("\u6b63\u5728\u52a0\u8f7d\u8d44\u6e90\uff0c\u6b64\u8fc7\u7a0b\u4e0d\u6d88\u8017\u6d41\u91cf\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85"),cc.game.restart()},_onLoadCommonRes:function(e){var t=this;this._setProgress(1),this._setStepTip("\u52a0\u8f7d\u516c\u5171\u8d44\u6e90..."),cc.loader.loadResDir("/prefabs/",function(e,n,o){t._setProgress(e/n)},function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o instanceof cc.Prefab&&resMgr.addPrefab(o)}userMgr.loadScene("loading")})}}),cc._RF.pop()},{}],ImageLoader:[function(e,t,n){"use strict";function o(e,t){null==cc.vv.baseInfoMap&&(cc.vv.baseInfoMap={}),null!=cc.vv.baseInfoMap[e]&&t(e,cc.vv.baseInfoMap[e])}cc._RF.push(t,"ed057Bgp8FHlJbGI+ljAN7d","ImageLoader"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.setupSpriteFrame()},setUserID:function(e){if(0!=cc.sys.isNative&&e){null==cc.vv.images&&(cc.vv.images={});o(e,function(e,t){t&&t.url&&t.url})}},setupSpriteFrame:function(){if(this._spriteFrame){var e=this.getComponent(cc.Sprite);e&&(e.spriteFrame=this._spriteFrame)}}}),cc._RF.pop()},{}],ItemDetailWin:[function(e,t,n){"use strict";cc._RF.push(t,"0cad3b2wN5Dm7TJls6Ei9Db","ItemDetailWin"),cc.Class({extends:cc.Component,properties:{spIconItem:cc.Sprite,lbTitleItem:cc.Label,rtNumItem:cc.RichText,lbDesc:cc.Label,lbTip:cc.Label,lbChooseNum:cc.Label,use:cc.Node,useChoose:cc.Node,goGet:cc.Node},ctor:function(){this._itemId=0,this._amount=0,this._kind=Consts.ItemKind.INVALID,this._chooseAmount=0},onLoad:function(){this.use.active=!1,this.useChoose.active=!1,this.goGet.active=!1,pomelo.on("C2CSyncItem",this._onC2CSyncItem.bind(this))},onDestroy:function(){pomelo.removeListener("C2CSyncItem")},updateItem:function(e){this._itemId=e,this._amount=userMgr.getItemAmount(e),this._kind=configMgr.getItemKind(e),this.lbTitleItem.string=configMgr.getItemTitle(e),this.lbDesc.string=configMgr.getItemDesc(e),this.lbTip.string=configMgr.getItemTip(e),this._refresh()},onCloseClicked:function(e){this.node.destroy()},onMaskClicked:function(e){this.node.destroy()},onMinusClicked:function(e){userMgr.getItemAmount(this._itemId)>0?this._setChooseAmount(this._chooseAmount>1?this._chooseAmount-1:1):this._setChooseAmount(0)},onAddClicked:function(e){var t=userMgr.getItemAmount(this._itemId);t>0?this._setChooseAmount(this._chooseAmount>=t?this._chooseAmount:this._chooseAmount+1):this._setChooseAmount(0)},onMaxClicked:function(e){var t=userMgr.getItemAmount(this._itemId);this._setChooseAmount(t)},onUseClicked:function(e){userMgr.useItem(this._itemId,this._chooseAmount,function(e){e&&e.code&&e.code!=Code.OK&&cc.tip.show(e.code)})},_setChooseAmount:function(e){(!e||e<0)&&(e=0),this._chooseAmount=e,this.lbChooseNum.string=this._chooseAmount},_refresh:function(){this.rtNumItem.string="<color=#000000>\u62e5\u6709\uff1a</c><color=#0fffff>"+this._amount+"</color>",this._kind==Consts.ItemKind.BOX&&(this.use.active=!0,this.useChoose.active=!0,this._setChooseAmount(this._amount>0?1:0))},_onC2CSyncItem:function(e){var t=e.itemId,n=e.amount;this._itemId==t&&(this._amount=n,this._refresh())}}),cc._RF.pop()},{}],JoinGameWin:[function(e,t,n){"use strict";cc._RF.push(t,"4251c6bAytOvqyGIO0rCwiv","JoinGameWin"),cc.Class({extends:cc.Component,properties:{nums:{default:[],type:[cc.Label]},_inputIndex:0},onLoad:function(){DataMgr.reportAnalytics("enterJoinGame",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onDestroy:function(){this.node.destroy()},onEnable:function(){this.onResetClicked()},onCloseClicked:function(){this.destroy(),DataMgr.reportAnalytics("closeJoinGame",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},onMaskClicked:function(){this.destroy()},onInputFinished:function(e){var t={roomId:e};this.destroy(),pomelo.request("connector.clubHandler.getRoomGameInfo",t,function(t){if(console.log(t),t.code!=Code.OK){var n="\u623f\u95f4["+e+"]\u4e0d\u5b58\u5728\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165!";return t.code==Code.FULL_MEMBER&&(n="\u623f\u95f4["+e+"]\u5df2\u6ee1!"),void cc.alert.show("\u63d0\u793a",n)}userMgr.setQueryGameServerId(t.gameServerId),userMgr.setQueryRoomId(t.roomId),userMgr.loadScene("club")})},onInput:function(e){if(!(this._inputIndex>=this.nums.length)&&(this.nums[this._inputIndex].string=e,this._inputIndex+=1,this._inputIndex==this.nums.length)){var t=this.parseRoomId();console.log("ok:"+t),this.onInputFinished(t)}},onN0Clicked:function(){this.onInput(0)},onN1Clicked:function(){this.onInput(1)},onN2Clicked:function(){this.onInput(2)},onN3Clicked:function(){this.onInput(3)},onN4Clicked:function(){this.onInput(4)},onN5Clicked:function(){this.onInput(5)},onN6Clicked:function(){this.onInput(6)},onN7Clicked:function(){this.onInput(7)},onN8Clicked:function(){this.onInput(8)},onN9Clicked:function(){this.onInput(9)},onResetClicked:function(){for(var e=0;e<this.nums.length;++e)this.nums[e].string="";this._inputIndex=0},onDelClicked:function(){this._inputIndex>0&&(this._inputIndex-=1,this.nums[this._inputIndex].string="")},parseRoomId:function(){for(var e="",t=0;t<this.nums.length;++t)e+=this.nums[t].string;return e},_onRoomInfo:function(e){cc.log(e),e.code==Code.OK||cc.tip.show(e.code)}}),cc._RF.pop()},{}],Loading:[function(e,t,n){"use strict";cc._RF.push(t,"350d3Ry9aVIqJR27fP2H/z1","Loading"),cc.Class({extends:cc.Component,properties:{progress:cc.ProgressBar,lbStepTip:cc.Label,lbPercent:cc.Label,lbSizeTip:cc.Label,_progress:0,_elapsed:0},onLoad:function(){cc.alert=cc.find("Canvas/Alert").getComponent("Alert"),cc.wt=cc.find("Canvas/Waiting").getComponent("Waiting"),cc.tip=cc.find("Canvas/Tip").getComponent("Tip"),this.node.on("loadGameRes",this._onGameCommonRes.bind(this))},onDestroy:function(){this.node.off("loadGameRes"),cc.alert=null,cc.wt=null,cc.tip=null},start:function(){this.node.emit("loadGameRes")},update:function(e){this._elapsed+=e},_onGameCommonRes:function(e){var t=this;this._setProgress(1),this._setStepTip("\u52a0\u8f7d\u6e38\u620f\u8d44\u6e90...");var n=userMgr.getGameId(),o="/client/"+n+"/";console.log("loadResDir gameId=%s resFolder=%s",n,o),cc.loader.loadResDir(o,function(e,n,o){t._setProgress(e/n)},function(e,t){for(var n=0;n<t.length;n++){var o=t[n];o instanceof cc.Prefab&&cc.resMgr.addPrefab(o)}userMgr.isLogined()?userMgr.loadScene("hall"):userMgr.loadScene("login")})},_onThirdLogin:function(){var e=this;console.log("onThirdLogin-----onclick"),console.log("onThirdLogin os = %s",cc.sys.os);cc.sys.platform===cc.sys.WECHAT_GAME?"zjtd"===cc.config.platform&&tt.login({success:function(t){console.log("login\u8c03\u7528\u6210\u529f"+t.code+" "+t.anonymousCode),e._zjtdGetUserInfo(t)},fail:function(e){console.log("login\u8c03\u7528\u5931\u8d25"),userMgr.guestAuth()}}):userMgr.guestAuth()},_zjtdGetUserInfo:function(e){if(null!=e){var t={};t.code=e.code,t.anonymousCode=e.anonymousCode,tt.getUserInfo({withCredentials:!0,success:function(e){console.log("getUserInfo\u8c03\u7528\u6210\u529f"+e.userInfo),t.userInfo=e.userInfo,t.rawData=e.rawData,t.encryptedData=e.encryptedData,t.iv=e.iv,userMgr.zjtdAuth(t)},fail:function(e){console.log("getUserInfo\u8c03\u7528\u5931\u8d25"),userMgr.guestAuth()}})}},_setProgress:function(e){this.progress.progress=e,this.lbPercent.string=Math.round(100*e)+"%"},_setStepTip:function(e){this.lbStepTip.string=e}}),cc._RF.pop()},{}],Login:[function(e,t,n){"use strict";cc._RF.push(t,"572a7Qfh69N9ZLXkNthANfi","Login"),cc.Class({extends:cc.Component,properties:{btnGuest:cc.Button,btnWechat:cc.Button,btnApplet:cc.Node,btnAhirdLogin:cc.Button,health_notice:cc.Node,_mima:null,_mimaIndex:0},ctor:function(){},onLoad:function(){if(console.log("++++++++++++Login onLoad++++++++++++"),userMgr.init(),!cc.sys.isNative&&cc.sys.isMobile){var e=this.node.getComponent(cc.Canvas);e.fitHeight=!0,e.fitWidth=!0}var t=cc.resMgr.getPrefabInstance("Alert");this.node.addChild(t,cc.macro.MAX_ZINDEX),cc.alert=t.getComponent("Alert"),t=cc.resMgr.getPrefabInstance("Waiting"),this.node.addChild(t,cc.macro.MAX_ZINDEX),cc.wt=t.getComponent("Waiting"),t=cc.resMgr.getPrefabInstance("Tip"),this.node.addChild(t,cc.macro.MAX_ZINDEX),cc.tip=t.getComponent("Tip"),this._mima=["A","A","B","B","A","B","A","B","A","A","A","B","B","B"],this.btnGuest.node.active=!1,this.btnWechat.node.active=!1,this.btnApplet.active=!1,this.btnAhirdLogin.node.active=!1,cc.sys.platform===cc.sys.WECHAT_GAME?"zjtd"===cc.config.platform?(this.btnAhirdLogin.node.active=!0,this.btnGuest.node.active=!0):(this.btnApplet.active=!0,this._createUserInfoButton(),wx.onShareAppMessage(this._onShareAppMessage.bind(this))):cc.sys.isNative&&cc.sys.os!=cc.sys.OS_WINDOWS?(cc.sys.isNative,this.btnGuest.node.active=!0):this.btnGuest.node.active=!0,pomelo.on("C2CLoginFail",this._onC2CLoginFail,this),DataMgr.reportAnalytics("loginscene",{uid:"0"}),AdMgr.creatAd_zjtd()},onDestroy:function(){cc.alert=null,cc.wt=null,cc.tip=null,pomelo.off("C2CLoginFail",this._onC2CLoginFail,this)},onEnable:function(){console.log("+++++++++++++++Login onEnable++++++++++++++++++++++"),userMgr.getEntryInfo()&&userMgr.isKicked()},onGuestClicked:function(){console.log("onGuestClicked os = %s",cc.sys.os),console.log(cc.sys),userMgr.guestAuth()},onWechatClicked:function(){console.log("onWechatClicked-----onclick"),console.log("onWechatClicked os = %s",cc.sys.os);anysdkMgr.login()},onThirdLogin:function(){var e=this;console.log("onThirdLogin-----onclick"),console.log("onThirdLogin os = %s",cc.sys.os);cc.sys.platform===cc.sys.WECHAT_GAME&&"zjtd"===cc.config.platform&&tt.login({success:function(t){console.log("login\u8c03\u7528\u6210\u529f"+t.code+" "+t.anonymousCode),e._zjtdGetUserInfo(t)},fail:function(t){console.log("login\u8c03\u7528\u5931\u8d25"),e.btnGuest.node.active=!0}})},_zjtdGetUserInfo:function(e){null!=e&&tt.getSetting({success:function(t){if(console.log(t),0!=t.authSetting.length&&0==t.authSetting["scope.userInfo"]){cc.alert.show("\u7528\u6237\u767b\u5f55","\u662f\u5426\u6388\u6743\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff1a\u6635\u79f0\u7b49",function(){tt.openSetting({success:function(e){console.log(e)},fail:function(e){}})},!0,function(e){userMgr.guestAuth()})}else{var n={};n.code=e.code,n.anonymousCode=e.anonymousCode,tt.getUserInfo({withCredentials:!0,success:function(e){console.log("getUserInfo\u8c03\u7528\u6210\u529f"+e.userInfo),n.userInfo=e.userInfo,n.rawData=e.rawData,n.encryptedData=e.encryptedData,n.iv=e.iv,userMgr.zjtdAuth(n)},fail:function(e){console.log("getUserInfo\u8c03\u7528\u5931\u8d25"),userMgr.guestAuth()}})}},fail:function(e){}})},onBtnMIMAClicked:function(e){this._mima[this._mimaIndex]==e.target.name?(this._mimaIndex++,this._mimaIndex==this._mima.length&&(this.btnGuest.node.active=!0)):(console.log("oh ho~~~"),this._mimaIndex=0)},_onAppletWechat:function(e){console.log(e);var t=e.iv,n=e.rawData,o=e.encryptedData,s=e.userInfo;cc.wt.show("\u6b63\u5728\u767b\u5f55..."),wx.login({timeout:6e3,success:function(e){console.log("success"),console.log(e);var i=e.code;userMgr.appletWechatAuth(i,o,t,n,s)},fail:function(e){console.log("fail"),console.log(e),pomelo.emit("C2CLoginFail")},complete:function(e){console.log("complete"),console.log(e),cc.wt.hide()}})},_onC2CLoginFail:function(e){var t=this;pomelo.disconnect(function(){"zjtd"!==cc.config.platform?cc.sys.platform===cc.sys.WECHAT_GAME&&t._createUserInfoButton():t.btnAhirdLogin.node.active=!0})},_createUserInfoButton:function(){var e=this,t=cc.size(340,140),n=cc.view.getFrameSize(),o=cc.director.getWinSize(),s=(.5*o.width-t.width/2)/o.width*n.width,i=(.5*o.height-.5*t.height+246)/o.height*n.height,c=t.width/o.width*n.width,r=t.height/o.height*n.height;this.wechatButton=wx.createUserInfoButton({type:"text",text:"",withCredentials:!0,style:{left:s,top:i,width:c,height:r,lineHeight:40,backgroundColor:"",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,image:"resources/texture/join_game_button_bg.png"}}),this.wechatButton.show(),this.wechatButton.onTap(function(t){e.wechatButton.destroy(),e._onAppletWechat(t)})},_onShareAppMessage:function(e){return{title:"\u6597\u517d\u68cb\u6765\u4e86"}},_offShareAppMessage:function(e){}}),cc._RF.pop()},{}],MoreGameJungle:[function(e,t,n){"use strict";cc._RF.push(t,"29023soYQBDGJA/cY40WVdl","MoreGameJungle"),cc.Class({extends:cc.Component,properties:{gameScrollView:cc.ScrollView,updateGameMask:cc.Node},ctor:function(){this._gameList=[]},onLoad:function(){console.log("--------------------MoreGameJungle onLoad------------------"),this.updateGameMask.active=!1,pomelo.on("updateGame",this._onUpdateGame.bind(this)),cc.wt.show("\u8bf7\u6c42\u6e38\u620f\u5217\u8868..."),userMgr.getGameList(this._onGameList.bind(this))},onDestroy:function(){pomelo.removeListener("updateGame")},onCloseClicked:function(e){this.node.destroy()},onMaskClicked:function(e){this.node.destroy()},onUpdateGameMask:function(e){cc.tip.show("\u6b63\u5728\u52aa\u529b\u4e0b\u8f7d\u6e38\u620f\uff0c\u8bf7\u60a8\u8010\u5fc3\u7b49\u5019..")},_onGameList:function(e){cc.wt.hide(),e.code==Code.OK?(this._gameList=e.gameArray,this._renderGameList()):cc.tip.show(e.code)},_renderGameList:function(){this._gameList.length;for(var e=this.gameScrollView.content.children,t=this.gameScrollView.content.childrenCount,n=0;n<t;n++)e[n].active=!1;for(var o=0,s=0;s<this._gameList.length;s++){var i=this._gameList[s],c=null;e[s]?(c=e[s]).active=!0:((c=resMgr.getPrefabInstance("GameItem")).setPosition(0,o-c.height/2),c.active=!0,console.log(c),this.gameScrollView.content.addChild(c)),c.getComponent("GameItem").updateItem(i),o-=c.height-4}this.gameScrollView.content.height=o},_onUpdateGame:function(e){console.log("--------------------MoreGameJungle _onUpdateGame------------------");var t=e.step;this.updateGameMask.active=1==t}}),cc._RF.pop()},{}],PlayerJungle:[function(e,t,n){"use strict";cc._RF.push(t,"6f5a9S0OENGC4Qs+1myFqzb","PlayerJungle"),cc.Class({extends:cc.Component,properties:{bg:cc.Node,spIcon:cc.Sprite,lbNickName:cc.Label,spSex:cc.Sprite,cur_turn:cc.Sprite,sp_tag:cc.Sprite,_userId:-1,_nickName:"",_sex:0,_avatarUrl:"",_ip:"",_seatIndex:-1,_selectedIndex:-1,_playerState:0,_gameState:0},onLoad:function(){},start:function(){},onDestroy:function(){},updateItem:function(e){this._sex=e.sex,this._avatarUrl=e.avatarUrl,this.setUserId(e.userId),this.setIp(e.ip),this.setScore(e.score),this.setNickName(e.nickName),this.setSeatIndex(e.chairId),this.setPlayerState(e.playerState),this.setGameState(e.gameState),this._refresh()},setUserId:function(e){this._userId=e},getUserId:function(){return this._userId},setNickName:function(e){this._nickName=e,this.lbNickName.string=this._nickName},getNickName:function(){return this._nickName},setIp:function(e){this._ip=e},getIp:function(){return this._ip},setSeatIndex:function(e){this._seatIndex=e},getSeatIndex:function(){return this._seatIndex},getChairId:function(){return this._seatIndex},setScore:function(e){},getScore:function(){},setPlayerState:function(e){this._playerState=e},getPlayerState:function(){return this._playerState},setGameState:function(e){this._gameState=e},getGameState:function(){return this._gameState},setButtonChairId:function(e){var t=this,n="/client/jungle/texture/lstxdb_jungle",o="/client/jungle/texture/blue_one",s="/client/jungle/texture/blue_my_turn",i=1;"myself"==this.node.name?(s="/client/jungle/texture/blue_my_turn",i=1):(s="/client/jungle/texture/blue_other_turn",i=-1),e==this.getChairId()&&(n="/client/jungle/texture/hstxdb_jungle",o="/client/jungle/texture/red_one","myself"==this.node.name?(s="/client/jungle/texture/red_my_turn",i=-1):(s="/client/jungle/texture/red_other_turn",i=1)),this.bg.scaleX=i,cc.loader.loadRes(n,cc.SpriteFrame,function(e,n){t.bg.getComponent(cc.Sprite).spriteFrame=n}),cc.loader.loadRes(o,cc.SpriteFrame,function(e,n){t.sp_tag.getComponent(cc.Sprite).spriteFrame=n}),cc.loader.loadRes(s,cc.SpriteFrame,function(e,n){t.cur_turn.getComponent(cc.Sprite).spriteFrame=n})},_refresh:function(){var e=this,t=resMgr.getSexUrl(this._sex);cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t||(e.spSex.spriteFrame=n)});var n=resMgr.getDefaultAvatarUrl(this._userId);console.log(n),cc.loader.loadRes(n,cc.SpriteFrame,function(t,n){t||(e.spIcon.spriteFrame=n)})},playTurn:function(){this.node.stopAllActions();var e=cc.sequence(cc.scaleTo(.1,.8),cc.scaleTo(.2,1.05));this.node.runAction(e)},playWait:function(){this.node.stopAllActions(),this.node.runAction(cc.scaleTo(.3,.78))}}),cc._RF.pop()},{}],PlayerMatchJungle:[function(e,t,n){"use strict";cc._RF.push(t,"e7c2a4CZGNMGo5O47fYw9ml","PlayerMatchJungle"),cc.Class({extends:cc.Component,properties:{spHeadIcon:cc.Sprite,spSex:cc.Sprite,lbNickName:cc.Label},onLoad:function(){},updateItem:function(e){this.lbNickName.string=e.nickName}}),cc._RF.pop()},{}],ReplayMgr:[function(e,t,n){"use strict";cc._RF.push(t,"1a6a1p86NFL6KZEZCnbu7tt","ReplayMgr");cc.Class({extends:cc.Component,properties:{_lastAction:null,_actionRecords:null,_currentIndex:0},onLoad:function(){},clear:function(){this._lastAction=null,this._actionRecords=null,this._currentIndex=0},init:function(e){this._actionRecords=e.action_records,null==this._actionRecords&&(this._actionRecords={}),this._currentIndex=0,this._lastAction=null},isReplay:function(){return null!=this._actionRecords},getNextAction:function(){return this._currentIndex>=this._actionRecords.length?null:{si:this._actionRecords[this._currentIndex++],type:this._actionRecords[this._currentIndex++],pai:this._actionRecords[this._currentIndex++]}},takeAction:function(){var e=this.getNextAction();if(null!=this._lastAction&&1==this._lastAction.type&&null!=e&&3!=e.type&&4!=e.type&&5!=e.type&&cc.gameNetMgr.doGuo(this._lastAction.si,this._lastAction.pai),this._lastAction=e,null==e)return-1;return 1==e.type?(cc.gameNetMgr.doChupai(e.si,e.pai),1):2==e.type?(cc.gameNetMgr.doMopai(e.si,e.pai),cc.gameNetMgr.doTurnChange(e.si),.5):3==e.type?(cc.gameNetMgr.doPeng(e.si,e.pai),cc.gameNetMgr.doTurnChange(e.si),1):4==e.type?(cc.gameNetMgr.dispatchEvent("hangang_notify",e.si),cc.gameNetMgr.doGang(e.si,e.pai),cc.gameNetMgr.doTurnChange(e.si),1):5==e.type?(cc.gameNetMgr.doHu({seatindex:e.si,hupai:e.pai,iszimo:!1}),1.5):void 0}}),cc._RF.pop()},{}],ResMgr:[function(e,t,n){"use strict";cc._RF.push(t,"96e88J4Pd1E6b9oWApbiho/","ResMgr"),cc.resMgr={_prefabMap:{},addPrefabs:function(e){for(var t=e?e.length:0,n=0;n<t;n++){var o=e[n];this.addPrefab(o)}},addPrefab:function(e){e&&(this._prefabMap[e.name]=e)},getPrefabInstance:function(e){if(!e)return null;var t=this._prefabMap[e];return t?cc.instantiate(t):null},getPrePath:function(){return"/client/"+userMgr.getGameId()},getSexUrl:function(e){var t="/texture/male_mark";return 2==e&&(t="/texture/female_mark"),t},getDefaultAvatarUrl:function(e){return null==e&&(e=1),"/texture/head/"+(Number(e)%12+1)},getItemUrl:function(e){return"/texture/item/item_"+e},getJungleChessFilePath:function(e){var t=this.getPrePath(),n=Consts.JungleChessId,o="",s="";switch(e){case n.ELEPHANT:o=t+"/texture/animals_big_jungle/dx_jungle",s="\u8c61";break;case n.LION:o=t+"/texture/animals_big_jungle/sz_jungle",s="\u72ee";break;case n.TIGER:o=t+"/texture/animals_big_jungle/lh_jungle",s="\u864e";break;case n.LEOPARD:o=t+"/texture/animals_big_jungle/bz_jungle",s="\u8c79";break;case n.WOLF:o=t+"/texture/animals_big_jungle/lang_jungle",s="\u72fc";break;case n.DOG:o=t+"/texture/animals_big_jungle/dg_jungle",s="\u72d7";break;case n.CAT:o=t+"/texture/animals_big_jungle/xm_jungle",s="\u732b";break;case n.MOUSE:o=t+"/texture/animals_big_jungle/ls_jungle",s="\u9f20";break;default:console.log("[ERROR] unkown chessid=%d",this._chessId),s="\u79d8"}return{spriteName:o,title:s}}},"undefined"==typeof resMgr&&(window.resMgr=cc.resMgr),cc._RF.pop()},{}],ResultPlayerJungle:[function(e,t,n){"use strict";cc._RF.push(t,"ddab9wcE6ROPqkqI9iSOoCv","ResultPlayerJungle"),cc.Class({extends:cc.Component,properties:{bgSprite:cc.Sprite,spAvatarIcon:cc.Sprite,spSex:cc.Sprite,lbNickName:cc.Label,again:cc.Node},ctor:function(){this._playerId=-1,this._resultType=Consts.ResultType.WIN},onLoad:function(){this.again.active=!1},getPlayerId:function(){return this._playerId},getResultType:function(){return this._resultType},getUserId:function(){return this._playerId},updateItem:function(e){var t=this;if(this.again.active=!1,e){this._resultType=e.resultType,this._playerId=e.userId,this.lbNickName.string=e.nickName;var n=resMgr.getSexUrl(e.sex);cc.loader.loadRes(n,cc.SpriteFrame,function(e,n){e||(t.spSex.spriteFrame=n)});var o=resMgr.getDefaultAvatarUrl(e.userId);cc.loader.loadRes(o,cc.SpriteFrame,function(e,n){e||(t.spAvatarIcon.spriteFrame=n)});var s=resMgr.getPrePath()+"/texture/head_bg_win";this.getResultType()==Consts.ResultType.LOSE?s=resMgr.getPrePath()+"/texture/head_bg_lose":this.getResultType()==Consts.ResultType.DRAW&&(s=resMgr.getPrePath()+"/texture/head_bg_win"),cc.loader.loadRes(s,cc.SpriteFrame,function(e,n){e?console.error(e):t.bgSprite.spriteFrame=n})}},setGameState:function(e){e==Consts.GameState.READY?this.again.active=!0:this.again.active=!1}}),cc._RF.pop()},{}],ResultWin:[function(e,t,n){"use strict";cc._RF.push(t,"d393f2/LyxA+JgQ7KI2TWBl","ResultWin");var o=e("./ResultPlayerJungle");cc.Class({extends:cc.Component,properties:{spTitle:cc.Sprite,btnOnceAgain:cc.Button,spOnceAgain:cc.Sprite,btnShareVideo:cc.Node,spTitlePingju:cc.Sprite,players:{type:o,default:[]}},onLoad:function(){this._setOnceAgainFrame("fnt_once_again",!0,new cc.Color(255,255,255)),pomelo.on("onGameState",this._onGameState,this),pomelo.on("onLeave",this._onLeave,this),pomelo.on("onBegin",this._onBegin,this),cc.sys.platform===cc.sys.WECHAT_GAME&&"zjtd"===cc.config.platform?this.btnShareVideo.active=!0:this.btnShareVideo.active=!1},onDestroy:function(){cc.log("+++++++++++ResultWin onDestory++++++++"),pomelo.off("onGameState",this._onGameState,this),pomelo.off("onLeave",this._onLeave,this),pomelo.off("onBegin",this._onBegin,this)},updateItem:function(e){var t=this;if(console.log("ResultWin updateItem"),console.log(e),Array.isArray(e)&&!(e.length<=0)){for(var n=this.players[0],o=this.players[1],s=0;s<e.length;s++){var i=e[s];i.userId==userMgr.getUserId()?n.updateItem(i):o.updateItem(i)}var c=n.getResultType(),r=resMgr.getPrePath()+"/texture/r_nyl_jungle";this.spTitle.node.active=!1,this.spTitlePingju.node.active=!1,c==Consts.ResultType.LOSE?(r=resMgr.getPrePath()+"/texture/r_nsl_jungle",audioMgr.playSFX("lose","/client/jungle"),this.spTitle.node.active=!0):c==Consts.ResultType.DRAW?(this.spTitlePingju.node.active=!0,audioMgr.playSFX("vitory","/client/jungle")):(audioMgr.playSFX("vitory","/client/jungle"),this.spTitle.node.active=!0),cc.loader.loadRes(r,cc.SpriteFrame,function(e,n){t.spTitle.spriteFrame=n})}},onMaskClicked:function(e){},onOnceAgainClicked:function(e){this._setOnceAgainFrame("fnt_wait_enemy_response",!1,new cc.Color(201,198,198)),pomelo.request("connector.gameHandler.playAgain",{},function(e){console.log(e),e&&e.code==Code.OK||cc.tip.show(e.code)})},onChangeGameClicked:function(e){this.node.destroy(),pomelo.request("connector.gameHandler.leaveRoom",function(e){console.log("resultmgr"),console.log(e)}),userMgr.loadScene("hall")},onShareVideo:function(e){var t=this,n=VideosRecordMgr.getVideoState();console.log("onShareVideo state:"+n),0!=n?1==n?VideosRecordMgr.recordStop(function(e){t._onC2CVideoStop()}):VideosRecordMgr.shareVideo():cc.tip.show("\u60a8\u672a\u5f55\u5c4f")},_onGameState:function(e){var t=e.userId,n=e.gameState;n==Consts.GameState.READY&&(t==userMgr.getUserId()?this._setOnceAgainFrame("fnt_wait_enemy_response",!1,new cc.Color(201,198,198)):this._setOnceAgainFrame("fnt_challenge_accepted",!0,new cc.Color(255,255,255)));var o=this._getPlayerById(t);o&&o.setGameState(n)},_onLeave:function(e){this._setOnceAgainFrame("fnt_enemy_offline",!1,new cc.Color(201,198,198))},_onBegin:function(e){this.node.destroy()},_setOnceAgainFrame:function(e,t,n){var o=this;this.btnOnceAgain.interactable=t,this.btnOnceAgain.node.color=n,this.spOnceAgain.node.color=n;var s=resMgr.getPrePath()+"/texture/"+e;cc.loader.loadRes(s,cc.SpriteFrame,function(e,t){e||o.spOnceAgain&&(o.spOnceAgain.spriteFrame=t)}),this.spOnceAgain.spriteFrame},_getPlayerById:function(e){for(var t=null,n=0;n<this.players.length;n++)if(this.players[n].getUserId()==e){t=this.players[n];break}return t},_onC2CVideoStop:function(e){VideosRecordMgr.shareVideo()}}),cc._RF.pop()},{"./ResultPlayerJungle":"ResultPlayerJungle"}],SelfInfoWin:[function(e,t,n){"use strict";cc._RF.push(t,"1a70aGUTjNOgY6JcLXy5/JR","SelfInfoWin"),cc.Class({extends:cc.Component,properties:{spAvatarIcon:cc.Sprite,lbNickName:cc.Label,lbCoin:cc.Label,lbGems:cc.Label,lbCash:cc.Label},onLoad:function(){var e=this,t=(userMgr.getAvatarUrl(),resMgr.getDefaultAvatarUrl(userMgr.getUserId()));cc.loader.loadRes(t,cc.SpriteFrame,function(t,n){t||(e.spAvatarIcon.spriteFrame=n)}),this.lbNickName.string=userMgr.getNickName(),this.lbCoin.string=userMgr.getCoin(),this.lbGems.string=userMgr.getGems(),this.lbCash.string=userMgr.getCash()},start:function(){},onCloseClicked:function(e){this.node.destroy()},onMaskClicked:function(e){this.node.destroy()},onExitClicked:function(e){pomelo.disconnect(function(){userMgr.setEntryInfo(null),userMgr.loadScene("login"),cc.sys.platform===cc.sys.WECHAT_GAME&&wx.exitMiniProgram({success:function(){console.log("\u5173\u95ed\u5c0f\u6e38\u620f\u6210\u529f")},fail:function(e){console.log(e)},complete:function(){}})})}}),cc._RF.pop()},{}],SettingWin:[function(e,t,n){"use strict";cc._RF.push(t,"6ed6dKkTDFBYbdPsfFbp2X5","SettingWin"),cc.Class({extends:cc.Component,properties:{disableVoice:cc.Node,lbUserName:cc.Label,lbUserId:cc.Label,lbVersion:cc.Label},ctor:function(){},onLoad:function(){},start:function(){},updateItem:function(e){cc.log("SettingWin updateItem data=%s",JSON.stringify(e));var t=userMgr.getGameId();this.lbUserId.string=userMgr.getNickName(),this.lbUserName.string=userMgr.getUserId();var n=["\u8d44\u6e90\u7248\u672c\u53f7\uff1av",userMgr.getResVersion(t),"  \u5f15\u64ce\u7248\u672c\u53f7\uff1av",userMgr.getEngineVersion()].join("");this.lbVersion.string=n,this._refreshVoice()},onMaskClicked:function(e){this.node.destroy()},onVoiceClicked:function(e){var t=audioMgr.getSFXVolume();t=t<=0?1:0,audioMgr.setSFXVolume(t),this._refreshVoice(),DataMgr.reportAnalytics("onVoiceClicked",{name:userMgr.getNickName(),uid:userMgr.getUserId()})},_refreshVoice:function(){var e=audioMgr.getSFXVolume();this.disableVoice.active=e<=0},onExitAuth:function(e){pomelo.disconnect(function(){userMgr.setEntryInfo(null),userMgr.loadScene("login"),cc.sys.platform,cc.sys.WECHAT_GAME})}}),cc._RF.pop()},{}],SingleJungle:[function(e,t,n){"use strict";cc._RF.push(t,"effd2HqvkBJbpoNN4vSuQdY","SingleJungle");var o=e("SinglePlayerJungle");cc.Class({extends:cc.Component,properties:{lbMatchingTip:cc.Label,btnCancel:cc.Button,vs:cc.Node,cutdownAnim:cc.Node,lbCancelCutdown:cc.Label,matchPlayerArray:{default:[],type:[o],displayName:"matchPlayerArray",tooltip:"matchPlayerArray"}},ctor:function(){this._tipInterval=0,this._tipCount=0,this._queueCutdown=5},onLoad:function(){console.log("++++++++++++++SingleDarkChess onLoad++++++++++++++");var e=cc.resMgr.getPrefabInstance("Alert");this.node.addChild(e,cc.macro.MAX_ZINDEX),cc.alert=e.getComponent("Alert"),e=cc.resMgr.getPrefabInstance("Waiting"),this.node.addChild(e,cc.macro.MAX_ZINDEX),cc.wt=e.getComponent("Waiting"),e=cc.resMgr.getPrefabInstance("Tip"),this.node.addChild(e,cc.macro.MAX_ZINDEX),cc.tip=e.getComponent("Tip");for(var t=0;t<this.matchPlayerArray.length;t++){this.matchPlayerArray[t].node.active=!1}this.btnCancel.node.color=new cc.color(112,128,144),this._queueCutdown=5;var n=this.matchPlayerArray[0];n.node.active=!0,n.updateItem({userId:userMgr.getUserId(),nickName:userMgr.getNickName(),avatarUrl:userMgr.getAvatarUrl(),sex:userMgr.getSex()}),pomelo.on("onQueueUp",this._onQueueUp,this),pomelo.on("onQueueFail",this._onQueueFail,this),this._refreshMatchingTip()},onDestroy:function(){cc.alert=null,cc.wt=null,cc.tip=null,pomelo.off("onQueueUp",this._onQueueUp,this),pomelo.off("onQueueFail",this._onQueueFail,this)},onCloseClicked:function(e){this.node.active=!1},update:function(e){this._tipInterval+=e,this._queueCutdown-=e,this._tipInterval>=.3&&(this._tipCount++,this._refreshMatchingTip(),this._tipInterval=0),this.lbCancelCutdown.string=Math.floor(this._queueCutdown)+"s",this._queueCutdown<0&&(this.btnCancel.interactable=!0,this.btnCancel.node.color=new cc.color(255,255,255),this.lbCancelCutdown.node.active=!1,this.cutdownAnim.active=!1)},onCancelClicked:function(e){console.log("onCancelClicked"),this._queueCutdown>0?cc.tip.show("\u5012\u8ba1\u65f6\u7ed3\u675f\u540e\uff0c\u5728\u53d6\u6d88\u5427~"):(pomelo.request("connector.queueHandler.leaveQueue",function(e){console.log("cacel pipei back to hall")}),userMgr.loadScene("hall"))},_refreshMatchingTip:function(){this.lbMatchingTip.string="\u6b63\u5728\u5339\u914d\u73a9\u4f34"+"......".substr(0,this._tipCount%6)},_onQueueUp:function(e){console.log("SingleDarkChess _onQueueUp"),console.log(e),this.lbMatchingTip.node.active=!1,this.btnCancel.node.active=!1,this.cutdownAnim.active=!1;var t=e.gameId,n=e.roomId,o=e.playerArray;if(console.log(o),!o instanceof Array||o.length<=0){cc.alert.show("\u63d0\u793a","\u5339\u914d\u5931\u8d25",function(){userMgr.loadScene("hall")})}else{for(var s=null,i=0;i<o.length;i++){var c=o[i];c.playerId==userMgr.getUserId()||((s=c).userId=s.playerId)}console.log("other data"),console.log(s);var r=this.matchPlayerArray[1];r&&(r.node.active=!0,r.updateItem(s)),this.vs.active=!0;var a=this.node.getComponent(cc.Animation);a&&a.play("vs_single"),this.scheduleOnce(function(){userMgr.setQueryGameId(t),userMgr.setQueryRoomId(n),userMgr.loadScene("game")},1.5)}},_onQueueFail:function(e){console.log("SingleDarkChess _onQueueFail"),console.log(e);cc.alert.show("\u63d0\u793a","\u6e38\u620f\u7ef4\u62a4\u4e2d\uff0c\u6682\u65f6\u65e0\u6cd5\u5339\u914d",function(){userMgr.loadScene("hall")})}}),cc._RF.pop()},{SinglePlayerJungle:"SinglePlayerJungle"}],SinglePlayerJungle:[function(e,t,n){"use strict";cc._RF.push(t,"007b6nIjNNKzbWY03ckbX5S","SinglePlayerJungle"),cc.Class({extends:cc.Component,properties:{spAvatarIcon:cc.Sprite,spSex:cc.Sprite,lbNickName:cc.Label},onLoad:function(){},getPlayerId:function(){return this._playerId},updateItem:function(e){var t=this;if(cc.log(e),e){this._playerId=e.userId,this.lbNickName.string=e.nickName;var n=resMgr.getSexUrl(e.sex);cc.loader.loadRes(n,cc.SpriteFrame,function(e,n){t.spSex.spriteFrame=n});var o=resMgr.getDefaultAvatarUrl(e.userId);cc.loader.loadRes(o,cc.SpriteFrame,function(e,n){e||(t.spAvatarIcon.spriteFrame=n)})}}}),cc._RF.pop()},{}],StepCutDownJungle:[function(e,t,n){"use strict";cc._RF.push(t,"87571aHI8dBIYMmzFEle2aR","StepCutDownJungle"),cc.Class({extends:cc.Component,properties:{progress:cc.ProgressBar,cutdownLabel:cc.Label,_cutdownCount:0,_startTime:0,_lastUpdateTime:0,_maxStepCutdown:30},onLoad:function(){this.setCutdownTime(0)},setMaxStepCutdown:function(e){this._maxStepCutdown=e>0?e:1},getMaxStepCutdown:function(){return this._maxStepCutdown},setCutdownTime:function(e){this._cutdownCount=e,this._startTime=cc.timeUtil.getTimeNow()},getCutdownTime:function(){return this._cutdownCount},start:function(){},hide:function(){this.progress.active=!1},update:function(e){var t=cc.timeUtil.getTimeNow(),n=this._cutdownCount-(t-this._startTime);this.progress.progress=n/this._maxStepCutdown,this.cutdownLabel.string=n>0?Math.floor(n/1e3):0}}),cc._RF.pop()},{}],TaskItem:[function(e,t,n){"use strict";cc._RF.push(t,"1604eE4IhlJI4SLTrU3xDFF","TaskItem"),cc.Class({extends:cc.Component,properties:{spIcon:cc.Sprite,rtTitle:cc.RichText,awardList:cc.Node,btnReward:cc.Button,lbReward:cc.Label},ctor:function(){this._taskId=0,this._gameId="",this._state=Consts.TaskState.NONE,this._cType=Consts.TaskCType.INVALID},onLoad:function(){},start:function(){},updateItem:function(e){cc.log("TaskItem updateItem task=%s",JSON.stringify(e)),this._taskId=e.taskId,this._gameId=e.gameId;var t=e.title,n=e.pVal,o=e.cVal;this._state=e.state,this._cType=e.cType;var s=e.awardCount;this.rtTitle.string="<color=#0000>"+t+"(<color=#ff0000>"+n+"</c>/"+o+")</c>",this._refresh();for(var i=this.awardList.children,c=this.awardList.childrenCount,r=0;r<c;r++)i[r].active=!1;for(var a=0;a<s;a++){var l=i[a];l||(l=resMgr.getPrefabInstance("AwardItem"),this.awardList.addChild(l));var u=e["awardItemId"+a],d=e["awardAmount"+a];l.getComponent("AwardItem").updateItem(u,d)}this.awardList.getComponent(cc.Layout).updateLayout()},onRewardClicked:function(e){var t=this;if(this._state!=Consts.TaskState.COMPLETE)if(this._cType!=Consts.TaskCType.INVITE_SUCCESS)cc.tip.show("\u4efb\u52a1\u672a\u5b8c\u6210\uff0c\u65e0\u6cd5\u9886\u5956!");else{var n="[\u6597\u517d\u68cb\u6765\u4e86]"+userMgr.getNickName()+" \u9080\u60a8\u52a0\u5165\u4e00\u8d77\u6e38\u620f!",o="userId="+userMgr.getUserId();anysdkMgr.shareApplet(n,"",o)}else{var s={taskId:this._taskId};pomelo.request("connector.entryHandler.rewardTask",s,function(e){e.code==Code.OK?(t._state=e.state,t._refresh()):cc.tip.show(e.code)})}},_refresh:function(){this.btnReward.interactable=!1,this._state==Consts.TaskState.NONE?(this.lbReward.string="\u672a\u5b8c\u6210",this._cType==Consts.TaskCType.INVITE_SUCCESS&&(this.lbReward.string="\u9080\u8bf7",this.btnReward.interactable=!0)):this._state==Consts.TaskState.COMPLETE?(this.btnReward.interactable=!0,this.lbReward.string="\u9886\u5956"):this._state==Consts.TaskState.FINISHED&&(this.lbReward.string="\u5df2\u5b8c\u6210")}}),cc._RF.pop()},{}],TipJungle:[function(e,t,n){"use strict";cc._RF.push(t,"296e79HvapLjKMlahpTZjgc","TipJungle"),cc.Class({extends:cc.Component,properties:{baiBei:cc.Node,success:cc.Node,uTurn:cc.Node,otherTurn:cc.Node,noGo:cc.Node},onLoad:function(){this.node.active=!1},start:function(){},show:function(e){switch(this.gameTipReset(),this.node.active=!0,this.oldY||(this.oldY=this.node.y),e){case"baiBei":this.baiBei.active=!0;break;case"success":this.success.active=!0;break;case"noGo":this.noGo.active=!0;break;case"uTurn":this.uTurn.active=!0;break;case"otherTurn":this.otherTurn.active=!0}this.node.stopActionByTag(101);var t=cc.sequence(cc.fadeIn(.1),cc.delayTime(.6),cc.fadeOut(.3));t.setTag(101),this.node.runAction(t),this.node.active=!0},gameTipReset:function(){this.otherTurn.active=!1,this.uTurn.active=!1,this.baiBei.active=!1,this.success.active=!1,this.noGo.active=!1}}),cc._RF.pop()},{}],Tip:[function(e,t,n){"use strict";cc._RF.push(t,"61f70x2Az9NnI6ikev6PGGJ","Tip"),cc.Class({extends:cc.Component,properties:{bg:cc.Node,lbWord:cc.Label},onLoad:function(){this.node.active=!1},start:function(){},show:function(e){this.node.active=!1,"number"==typeof e&&(e=Consts.getConment(e)),e||(e="\u672a\u5b9a\u4e49\u7684code",console.log(e)),this.node.active=!0,this.lbWord.string=e,this.oldY||(this.oldY=this.node.y),this.bg.width=(this.lbWord.node.width<480?480:this.lbWord.node.width)+30,this.node.stopActionByTag(101);var t=cc.sequence(cc.fadeIn(.1),cc.delayTime(.6),cc.fadeOut(.3));t.setTag(101),this.node.runAction(t),this.node.active=!0}}),cc._RF.pop()},{}],TreasureHuntWin:[function(e,t,n){"use strict";cc._RF.push(t,"ed44dQa7dNJ2JYv7CTxWr85","TreasureHuntWin"),cc.Class({extends:cc.Component,properties:{spCostIcon:cc.Sprite,lbCostAmount:cc.Label},onLoad:function(){configMgr.request},start:function(){},updateItem:function(e){var t=this,n=e.itemId,o=e.amount;this.lbCostAmount.string=o;var s=resMgr.getItemUrl(n);cc.loader.loadRes(s,cc.SpriteFrame,function(e,n){e?console.error("ResultAwardDarkChess loadRes spriteName=%s",spriteName):t.spCostIcon.spriteFrame=n})},onCloseClicked:function(e){this.node.destroy()},onMaskClicked:function(e){this.node.destroy()},onTryLuckClicked:function(e){}}),cc._RF.pop()},{}],TurnTable:[function(e,t,n){"use strict";cc._RF.push(t,"13e1fkjvxFLrLWk0OI0BPnP","TurnTable"),cc.Class({extends:cc.Component,properties:{},start:function(){}}),cc._RF.pop()},{}],UserMgr:[function(e,t,n){"use strict";var o;function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"74d78JBqHdDKY6hckY2YuL+","UserMgr"),e("./common/consts"),cc.UserMgr=cc.Class((s(o={ctor:function(){console.log("+++++++++++++++++UserMgr ctor++++++++++++++++++++");this._account=null,this._userName=null,this._avatarUrl=null,this._lv=0,this._exp=0,this._score=0,this._gems=0,this._cash=0,this._vit=0,this._vitSecond=0,this._maxVit=0,this._star=0,this._bag={},this._sign=0,this._ip="",this._sex=0,this._gateHost=null,this._gatePort=null,this._connectHost=null,this._connectPort=null,this._token=null,this._sdk=Consts.SDKType.NONE,this._bLogined=!1,this._roomId=null,this._preSceneId=-1,this._curSceneId=-1,this._userId=-1,this._seatIndex=-1,this._momentId=null,this._privilige=0,this._isReplay=!1,this._heartElapsed=0,this._ttl=60,this._isKicked=!1,this._isBackToHall=!1,this._reconectCount=0,this._querySceneId=null,this._queryRoomId=null,this._gameId="",this._prefabMap={},this._gameInfo={},this._resVersionMap={},this._engineVersionMap={},this._dataMap={},this._requestTime={},this._taskMap={},this._taskClass={},this._loadSceneCount=0,this._pageIndex=0},init:function(){var e=this;console.log("++++++++++++++++UserMgr init++++++++++++++++"),pomelo.on("open",function(t){e._isKicked=!1}),pomelo.on("reconnect",function(t){console.log("++++++++++reconnect +++++++++++++++"),cc.wt.show(e.getStrReconnect());pomelo.request("connector.entryHandler.reconnect",{token:self.getToken()},function(t){switch(pomelo.emit("C2C_RECONNECT",t),cc.log("reconnect code = %d",t.code),t.code){case Code.OK:cc.wt.hide(),cc.tip.show("\u91cd\u8fde\u6210\u529f\u3002");break;case Code.EXPIRE_TOKEN:case Code.INVALID_TOKEN:var n=function(){pomelo.disconnect(),userMgr.loadScene("update")};cc.alert.show("\u63d0\u793a","\u6388\u6743\u5df2\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\u3002",n,!1);break;case Code.UNSTART_GAME:case Code.NONE_ROOM:if(!e.isReconnectFull())break;n=function(){userMgr.backToHall()};cc.alert.show("\u63d0\u793a","\u60a8\u4e0e\u6e38\u620f\u670d\u65ad\u5f00\uff0c\u8fd4\u56de\u5927\u5385\uff1f",n,!1);break;default:if(!e.isReconnectFull())break;n=function(){pomelo.disconnect(),userMgr.loadScene("login")};cc.alert.show("\u63d0\u793a","\u60a8\u5df2\u65ad\u7ebf\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55\u3002",n,!1)}})}),pomelo.on("reconnecting",function(e){console.log("+++++++++++reconnecting+++++++++"),console.log(e);var t="\u81ea\u52a8\u91cd\u8fde \u7b2c["+e.reconnectAttempts+"/"+e.maxReconnectAttempts+"]\u5c1d\u8bd5...";cc.wt.show(t)}),pomelo.on("reconnect_fail",function(t){console.log("+++++++++++reconnect_fail+++++++++"),e.setEntryInfo(null),cc.wt.hide();cc.alert.show("\u63d0\u793a","\u91cd\u8fde\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",function(){userMgr.loadScene("login")})}),pomelo.on("io-error",function(e){}),pomelo.on("close",function(t){e._bLogined=!1}),pomelo.on("kick",function(t){console.log("+++++++++++kick+++++++++"),e._isKicked=!0;cc.alert.show("\u63d0\u793a","\u60a8\u7684\u8d26\u53f7\u5728\u5176\u4ed6\u5730\u65b9\u767b\u5f55",function(){userMgr.loadScene("login")})}),pomelo.on("heart_fail",function(e){cc.alert.show("\u63d0\u793a","\u4e0e\u670d\u52a1\u5668\u65ad\u5f00\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55",function(){userMgr.loadScene("login")})}),pomelo.on("heartbeat timeout",function(e){console.log("+++++++++++heartbeat timeout+++++++++"),console.log(e);cc.alert.show("\u63d0\u793a","\u6e38\u620f\u5df2\u7ecf\u65ad\u5f00\uff0c\u8bf7\u91cd\u65b0\u8fde\u63a5",function(e){userMgr.loadScene("login")})}),pomelo.on("toobusy",function(e){cc.tip.show("\u8bf7\u6c42\u592a\u9891\u7e41\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd5\uff01")}),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("UserMgr cc.game.EVENT_SHOW")}),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("UserMgr cc.game.EVENT_HIDE")})},setEntryInfo:function(e){var t="";e&&(this._token=e.token||null,this._sdk=e.sdk,this._connectHost=e.host||null,this._connectPort=e.port||null,t=JSON.stringify(e)),console.log("UserMgr setEntryInfo strVal=%s",t),cc.sys.localStorage.setItem("entryInfo",t)},getEntryInfo:function(){var e=cc.sys.localStorage.getItem("entryInfo");if(!e)return null;var t={};try{t=JSON.parse(e)}catch(e){t={}}return this._token=t.token||null,this._sdk=t.sdk,this._connectHost=t.host||null,this._connectPort=t.port||null,t},getToken:function(){return this._token},getSDKType:function(){return this._sdk},getGameId:function(){var e=this._gameId;do{if(e)break;var t=cc.sys.localStorage.getItem("gameId");if(t){e=t;break}var n=this.getDefaultGameId();if(n){e=n;break}}while(0);return e},getDefaultGameId:function(){var e=null;do{if(e)break;if(e=config.game_id)break}while(0);return e},setGameId:function(e){this._gameId!=e&&(this._gameId=e,cc.sys.localStorage.setItem("gameId",e))},getResFolder:function(e){return e?Consts.ResFolder[e]:null},setQueryGameId:function(e){this._querySceneId=e},getQueryGameId:function(){return this._querySceneId},setQueryGameServerId:function(e){this._queryGameServerId=e},getQueryGameServerId:function(){return this._queryGameServerId},setQueryRoomId:function(e){this._queryRoomId=e},getQueryRoomId:function(){return this._queryRoomId},guestAuth:function(){var e=this,t=this.urlParse();console.log(t);var n=t.account;null==n&&(n=cc.sys.localStorage.getItem("account")),null!=n&&0!=n.length||(n=Date.now()+Math.floor(100*Math.random()),cc.sys.localStorage.setItem("account",n)),console.log("account : "+n+" length:"+n.length+Date.now()),cc.wt.show("\u6b63\u5728\u767b\u5f55..."),pomelo.init({host:this.getGateHost(),port:this.getGatePort(),reconnect:!1,secret:!0},function(){pomelo.request("gate.gateHandler.queryEntry",{code:n,os:cc.sys.os,channel:config.default_channel,sdk:Consts.SDKType.GUEST,gameId:config.game_id,device:"default"},function(t){cc.wt.hide(),e.setEntryInfo(null),pomelo.disconnect(function(){t&&t.code==Code.OK?(cc.wt.show("\u6b63\u5728\u8fdb\u5165..."),pomelo.init({host:t.host,port:t.port,reconnect:!0,maxReconnectAttempts:7,secret:!0},function(){console.log("+++++++++++initlogin callback+++++++++++"),cc.wt.hide(),e.setEntryInfo(t),cc.wt.show("\u6b63\u5728\u8bf7\u6c42\u6570\u636e...");pomelo.request("connector.entryHandler.entry",{token:e.getToken()},function(t){cc.wt.hide(),e._login(t)})})):cc.alert.show("\u63d0\u793a","\u767b\u9646\u5931\u8d25\u3002code="+t.code)})})})},zjtdAuth:function(e){var t=this;console.log(e),cc.wt.show("\u6b63\u5728\u767b\u5f55..."),pomelo.init({host:this.getGateHost(),port:this.getGatePort(),reconnect:!1,secret:!0},function(){pomelo.request("gate.gateHandler.toutiaoAppletQueryEntry",{code:e.code,os:cc.sys.os,channel:config.default_channel,sdk:Consts.SDKType.GUEST,gameId:config.game_id,deviceType:"default",rawData:e.rawData,encryptedData:e.encryptedData,userInfo:e.userInfo,iv:e.iv},function(e){cc.wt.hide(),t.setEntryInfo(null),pomelo.disconnect(function(){e&&e.code==Code.OK?(cc.wt.show("\u6b63\u5728\u8fdb\u5165..."),pomelo.init({host:e.host,port:e.port,reconnect:!0,maxReconnectAttempts:7,secret:!0},function(){console.log("+++++++++++initlogin callback+++++++++++"),cc.wt.hide(),t.setEntryInfo(e),cc.wt.show("\u6b63\u5728\u8bf7\u6c42\u6570\u636e...");pomelo.request("connector.entryHandler.entry",{token:t.getToken()},function(e){cc.wt.hide(),t._login(e)})})):cc.alert.show("\u63d0\u793a","\u767b\u9646\u5931\u8d25\u3002code="+e.code)})})})},wechatAuth:function(e){var t=this;cc.wt.show("\u6b63\u5728\u8bf7\u6c42\u767b\u5f55..."),pomelo.init({host:config.gate_host,port:config.gate_port,secret:!0},function(){cc.wt.hide(),cc.wt.show("\u6b63\u5728\u767b\u5f55...");pomelo.request("gate.gateHandler.queryEntry",{code:e,os:cc.sys.os,channel:config.default_channel,sdk:Consts.SDKType.WECHAT,gameId:config.game_id,device:"default"},function(e){cc.wt.hide(),console.log("gate.gateHandler.queryEntry=%s",JSON.stringify(e)),t.setEntryInfo(null),pomelo.disconnect(function(){e&&e.code==Code.OK?(cc.wt.show("\u6b63\u5728\u83b7\u53d6\u7528\u6237\u4fe1\u606f..."),pomelo.init({host:e.host,port:e.port,reconnect:!0,secret:!0},function(){t.setEntryInfo(e);pomelo.request("connector.entryHandler.entry",{token:e.token},function(e){cc.wt.hide(),t._login(e)})})):cc.alert.show("\u63d0\u793a","\u767b\u9646\u5931\u8d25\u3002code="+e.code)})})})},appletWechatAuth:function(e,t,n,o,s){var i=this;cc.wt.show("\u6b63\u5728\u8bf7\u6c42\u767b\u5f55..."),pomelo.init({host:config.gate_host,port:config.gate_port,secret:!0},function(){cc.wt.hide(),cc.wt.show("\u6b63\u5728\u767b\u5f55...");pomelo.request("gate.gateHandler.queryEntry",{code:e,os:cc.sys.os,channel:"23000000",sdk:Consts.SDKType.APPLET_WECHAT,gameId:config.game_id,device:"default",encryptedData:t,iv:n,rawData:o,userInfo:s},function(e){cc.wt.hide(),console.log("gate.gateHandler.queryEntry=%s",JSON.stringify(e)),i.setEntryInfo(null),pomelo.disconnect(function(){e&&e.code==Code.OK?(cc.wt.show("\u6b63\u5728\u83b7\u53d6\u7528\u6237\u4fe1\u606f..."),pomelo.init({host:e.host,port:e.port,reconnect:!0,secret:!0},function(){i.setEntryInfo(e);pomelo.request("connector.entryHandler.entry",{token:e.token},function(e){cc.wt.hide(),i._login(e)})})):cc.alert.show("\u63d0\u793a","\u767b\u9646\u5931\u8d25\u3002code="+e.code,function(){pomelo.emit("C2CLoginFail")})})})})},tokenLogin:function(e){cc.wt.show("\u6b63\u5728\u767b\u5f55...");var t=this;e?pomelo.init({host:e.host,port:e.port,reconnect:!0,maxReconnectAttempts:7,secret:!0},function(){console.log("++++++++initcallback tokenLogin++++++++++"),cc.wt.show("\u6b63\u5728\u83b7\u53d6\u7528\u6237\u4fe1\u606f...");pomelo.request("connector.entryHandler.entry",{token:e.token},function(e){cc.wt.hide(),t._login(e)})}):cc.wt.hide()},_login:function(e){console.log("+++++++++_login+++++++++"),console.log(e),cc.wt.hide();e.code;var t=e.user;if(200===e.code)t.userId?(this.setUserId(t.userId),this.setNickName(t.nickName),this.setSex(t.sex),this.setAvatarUrl(t.avatarUrl),this.setIp(t.ip),this._bLogined=!0,this.loadScene("hall")):userMgr.loadScene("createrole");else{this.setEntryInfo(null);cc.alert.show("\u63d0\u793a","\u767b\u5f55\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55!",function(){pomelo.emit("C2CLoginFail")})}},onLogout:function(){},create:function(e){},getGameList:function(e){var t={gameId:this.getGameId()};pomelo.request("connector.configHandler.getGameList",t,e)},createRoom:function(e,t){cc.wt.show("\u6b63\u5728\u521b\u5efa\u623f\u95f4...");cc.wt.show("\u6b63\u5728\u521b\u5efa\u623f\u95f4...");var n={sceneid:e,conf:t};pomelo.request("connector.gameHandler.createRoom",n,function(e){if(cc.log(e),cc.wt.hide(),e.code!==Code.OK)2222==e.code?cc.alert.show("\u63d0\u793a","\u623f\u5361\u4e0d\u8db3\uff0c\u521b\u5efa\u623f\u95f4\u5931\u8d25!"):cc.alert.show("\u63d0\u793a","\u521b\u5efa\u623f\u95f4\u5931\u8d25,\u9519\u8bef\u7801:"+e.code);else{var t=e.roomid;userMgr.joinRoom(Consts.SceneId.PGMJ_GAME,t,function(e){e&&e.code!=Code.OK?cc.alert.show("\u63d0\u793a","\u52a0\u5165\u623f\u95f4\u5931\u8d25\uff0c\u9519\u8bef\u7801\uff1a"+e.code):userMgr.loadSceneById(e.sceneid)})}})},joinRoom:function(e,t,n){if(e!=Consts.SceneId.MOMENT){cc.wt.show("\u6b63\u5728\u8fdb\u5165\u623f\u95f4 "+t);var o={sceneid:e,roomid:t};pomelo.request("connector.gameHandler.joinRoom",o,function(e){cc.log("joinRoom res = %s",JSON.stringify(e)),cc.wt.hide(),n&&n(e)})}else this.enterMoment(t)},ready:function(e){pomelo.request("connector.gameHandler.ready",{},function(t){e&&e(t)})},leaveGameRoom:function(e){e=e||function(e){},pomelo.request("connector.gameHandler.leaveRoom",{},function(t){e(t)})},leaveClubRoom:function(e){e=e||function(e){},pomelo.request("connector.clubHandler.leaveRoom",{},function(t){e(t)})},createMoment:function(e,t){var n=this,o={title:e,conf:JSON.stringify(t)};cc.wt.show("\u6b63\u5728\u521b\u5efa\u724c\u53cb\u5708..."),pomelo.request("connector.momentHandler.createMoment",o,function(e){cc.wt.hide(),cc.log("create moment=%s",JSON.stringify(e)),e.code==Code.OK?n.enterMoment(e.momentid):cc.alert.show("\u63d0\u793a","\u521b\u5efa\u724c\u53cb\u5708\u5931\u8d25!")})},applyMoment:function(e){var t={momentid:e};cc.wt.show("\u7533\u8bf7\u52a0\u5165\u724c\u53cb\u5708\u4e2d..."),pomelo.request("connector.momentHandler.applyJoinMoment",t,function(e){cc.wt.hide(),e.code==Code.OK?cc.alert.show("\u63d0\u793a","\u7533\u8bf7\u52a0\u5165\u6210\u529f."):cc.alert.show("\u63d0\u793a","\u7533\u8bf7\u52a0\u5165\u5931\u8d25.")})},enterMoment:function(e){var t=this,n={momentid:e};cc.wt.show("\u6b63\u5728\u8fdb\u5165\u724c\u53cb\u5708..."),pomelo.request("connector.momentHandler.enterMoment",n,function(e){cc.log(e),cc.wt.hide(),200!==e.code?cc.alert.show("\u63d0\u793a","\u65e0\u6cd5\u8fdb\u5165\u724c\u53cb\u5708!"):(t.setMomentId(e.momentid),userMgr.loadScene("moment"))})},backToHall:function(e){this.loadScene("hall")},getHistoryList:function(e){},getGamesOfRoom:function(e,t){},getDetailOfGame:function(e,t,n){},getAccount:function(){return this._account},getUserId:function(){return this._userId},getPlayerId:function(){return this._userId},getSex:function(){return this._sex},getSign:function(){return this.sign},setUserId:function(e){this._userId=e},setNickName:function(e){this._nickName=e},getNickName:function(){return this._nickName},setAccount:function(e){this._account=e,cc.sys.localStorage.setItem("account",this.getAccount())}},"getAccount",function(){var e=cc.sys.localStorage.getItem("account");return this._account=e,this._account}),s(o,"getSeatIndex",function(e){return this._seatIndex}),s(o,"setSeatIndex",function(e){this._seatIndex=e}),s(o,"getChairId",function(){return this._seatIndex}),s(o,"seatindex2index",function(e){return(e-this._seatIndex+4)%4}),s(o,"setCoin",function(e){this._coin=e||0}),s(o,"getCoin",function(){return this._coin||0}),s(o,"setGems",function(e){this._gems=e||0}),s(o,"getGems",function(){return this._gems||0}),s(o,"getItemAmount",function(e){var t=0;if("number"!=typeof e||isNaN(e))return t;var n=this._dataMap.bag;return n&&n[e]&&(t=n[e]),t}),s(o,"setItemAmount",function(e,t){if("number"==typeof e&&!isNaN(e)&&"number"==typeof t&&!isNaN(t)){var n=Consts.ItemId;e==n.COIN?this.setCoin(t):e==n.GEMS?this.setGems(t):e==n.CASH?this.setCash(t):e==n.VIT?this.setVit(t):e==n.STAR&&this.setStar(t);var o=this._dataMap.bag;o&&o[e]&&(o[e]=t,pomelo.emit("C2CSyncItem",{itemId:e,amount:t}))}}),s(o,"setCash",function(e){this._cash=e}),s(o,"getCash",function(){return this._cash}),s(o,"setVit",function(e){this._vit=e}),s(o,"getVit",function(){return this._vit||0}),s(o,"setVitSecond",function(e){this._vitSecond=e}),s(o,"getVitTime",function(){return this._vitSecond}),s(o,"setMaxVit",function(e){this._maxVit=e}),s(o,"getMaxVit",function(){return this._maxVit}),s(o,"getVitPercentStr",function(){return userMgr.getVit()+"/"+userMgr.getMaxVit()}),s(o,"getVitProgress",function(){return userMgr.getMaxVit()<=0||userMgr.getVit()<0?1:userMgr.getVit()/userMgr.getMaxVit()}),s(o,"setStar",function(e){this._star=e}),s(o,"getStar",function(){return this._star}),s(o,"setSex",function(e){this._sex=e}),s(o,"getSex",function(){return this._sex}),s(o,"setAvatarUrl",function(e){this._avatarUrl=e}),s(o,"getAvatarUrl",function(){return this._avatarUrl+"?a=a.jpg"}),s(o,"setIp",function(e){this._ip=e}),s(o,"getIp",function(){return this._ip?this._ip.replace("::ffff:",""):"127.0.0.1"}),s(o,"setRoomId",function(e){this._roomId=e}),s(o,"getRoomId",function(){return this._roomId}),s(o,"setMomentId",function(e){this._momentId=e}),s(o,"getMomentId",function(){return this._momentId}),s(o,"isLogined",function(){return this._bLogined}),s(o,"setPrivilege",function(e){this._privilige=e}),s(o,"isMomentSuper",function(){return Consts.isMomentSuper(this._privilige)}),s(o,"isMomentAdminer",function(){return Consts.isMomentAdminer(this._privilige)}),s(o,"setSceneId",function(e){this._preSceneId=this._curSceneId,this._curSceneId=e}),s(o,"getSceneId",function(){var e=anysdkMgr.getMetaData("SCENE_ID");return e||(e=config.scene_id),e}),s(o,"getCurSceneId",function(){return this._curSceneId}),s(o,"getPreSceneId",function(){return this._preSceneId}),s(o,"setIsBackToHall",function(e){this._isBackToHall=e}),s(o,"getIsBackToHall",function(){return this._isBackToHall}),s(o,"getGateHost",function(){return this._gateHost||config.gate_host}),s(o,"getGatePort",function(){return this._gatePort||config.gate_port}),s(o,"loadScene",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this;t=t||this.getGameId();var o=e+t;console.log("loadScene sceneName=%s",o);cc.director.preloadScene(o,function(e,t,n){},function(t){if(t)return console.log(t.message),n.setGameId(n.getDefaultGameId()),void(n._loadSceneCount++<1&&(console.log("reload scene sceneId=%s gameId=%s",e,n.getGameId()),n.loadScene(e,n.getGameId())));n._loadSceneCount=0,n.setSceneId(e),cc.director.loadScene(o)})}),s(o,"isKicked",function(){return this._isKicked}),s(o,"heart",function(e){var t=this;if(this._heartElapsed+=e,this._heartElapsed>=Consts.HEART_INTERVAL){var n={clienttime:cc.timeUtil.getTimeNow()};pomelo.request("connector.entryHandler.heart",n,function(e){t._ttl=cc.timeUtil.getTimeNow()-e.clienttime,e.code!=Code.OK&&pomelo.emit("heart_fail",e)}),this._heartElapsed=0}}),s(o,"queryUrl",function(){var e=null,t=null;if(cc.sys.platform===cc.sys.WECHAT_GAME){var n=wx.getLaunchOptionsSync();console.log(n);var o=n.query;console.log("wechat game query=%s",JSON.stringify(o)),e=o.gameId||null,t=o.roomId||null}else{var s=anysdkMgr.getQueryUrl();if(console.log("queryUrl = %s",JSON.stringify(s)),s){var i=cc.utils.paramUrl(s).queryParam;console.log("queryParam=%s",JSON.stringify(i)),e=i.gameId,t=i.roomId}}this.setQueryGameId(e),this.setQueryRoomId(t)}),s(o,"urlParse",function(){var e,t,n={};if(null==window.location)return n;for(var o=window.location.href,s=o.indexOf("?"),i=(o=o.substr(s+1)).split("&"),c=0;c<i.length;c++)(s=i[c].indexOf("="))>0&&(e=i[c].substring(0,s),t=i[c].substr(s+1),n[e]=t);return n}),s(o,"returnGame",function(e){e=e||function(e){},cc.wt.show("\u6b63\u5728\u6062\u590d\u6e38\u620f..."),pomelo.request("connector.gameHandler.reenterScene",{},function(t){cc.wt.hide(),cc.log("reenterScene res=%s",JSON.stringify(t)),e(t)})}),s(o,"getResVersion",function(e){var t="1.0.0";do{if(!e)break;if(this._resVersionMap[e]){t=this._resVersionMap[e];break}var n=cc.sys.localStorage.getItem("resVersion_"+e);if(n){t=n;break}if(this.getDefaultGameId()==e){t=config.res_version;break}}while(0);return this.setResVersion(e,t),t}),s(o,"setResVersion",function(e,t){e&&t&&this._resVersionMap[e]!=t&&(this._resVersionMap[e]=t,cc.sys.localStorage.setItem("resVersion_"+e,t))}),s(o,"getEngineVersion",function(e){var t="1.0.0";do{if(!e)break;if(this._engineVersionMap[e]){t=this._engineVersionMap[e];break}var n=cc.sys.localStorage.getItem("engineVersion_"+e);if(n){t=n;break}if(this.getDefaultGameId()==e){t=config.engine_version;break}}while(0);return this.setEngineVersion(e,t),t}),s(o,"setEngineVersion",function(e,t){e&&t&&this._engineVersionMap[e]!=t&&(this._engineVersionMap[e]=t,cc.sys.localStorage.setItem("engineVersion_"+e,t))}),s(o,"requestBag",function(e){var t=this,n=this._requestTime.bag;n||(n=this._requestTime.bag=cc.timeUtil.getTimeSecond()),n+600<cc.timeUtil.getTimeSecond()?e(this._dataMap.bag):(cc.wt.show("\u8bf7\u6c42\u80cc\u5305\u6570\u636e..."),pomelo.request("connector.entryHandler.getBag",function(n){cc.log("connector.entryHandler.getBag"),cc.log(n),cc.wt.hide();var o=t._dataMap.bag={};if(n.code==Code.OK)for(var s=n.bagArray,i=0;i<s.length;i++){var c=s[i];o[c.itemId]=c.amount}t._requestTime.bag=cc.timeUtil.getTimeSecond(),e(o)}))}),s(o,"useItem",function(e,t,n){var o=this;if(n=n||function(){},"number"!=typeof e||isNaN(e)||"number"!=typeof t||isNaN(t))return cc.tip.show("\u4f7f\u7528\u7269\u54c1\u5931\u8d25"),void n(null);if(t<=0)return cc.tip.show("\u8bf7\u9009\u62e9\u7269\u54c1\u6570\u91cf"),void n(null);var s=this.getItemAmount(e);if(s<t)return cc.tip.show("\u6ca1\u6709\u8fd9\u4e48\u591a\u7269\u54c1\uff0c\u65e0\u6cd5\u4f7f\u7528"),void n(null);var i={itemId:e,amount:t};pomelo.request("connector.entryHandler.useItem",i,function(i){i&&i.code==Code.OK&&(o.setItemAmount(e,s-t),pomelo.emit("onAwardItem",{itemArray:i.itemArray})),n(i)})}),s(o,"requestTask",function(e,t){var n=this;cc.wt.show("\u8bf7\u6c42\u6bcf\u65e5\u4efb\u52a1\u6570\u636e...");var o="task_"+e,s={gameId:e};pomelo.request("connector.entryHandler.getTaskList",s,function(e){if(cc.wt.hide(),e.code==Code.OK){for(var s=n._taskClass[o]=[],i=e.taskArray,c=0;c<i.length;c++){var r=i[c],a=r.taskId;n._taskMap[a]=r,s.push(a)}t(s)}})}),s(o,"getTaskById",function(e){return e?this._taskMap[e]:null}),s(o,"setPageIndex",function(e){cc.log("setPageIndex val=%d",e),this._pageIndex=e}),s(o,"getPageIndex",function(){return this._pageIndex}),o)),"undefined"==typeof userMgr&&(window.userMgr=new cc.UserMgr),cc._RF.pop()},{"./common/consts":"consts"}],Utils:[function(e,t,n){"use strict";cc._RF.push(t,"b717fzww0hNzIqvNbb1t9wx","Utils");var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};String.prototype.format=function(e){if(arguments.length>0){var t=this;if(1==arguments.length&&"object"==(void 0===e?"undefined":o(e)))for(var n in e){var s=new RegExp("({"+n+"})","g");t=t.replace(s,e[n])}else for(var i=0;i<arguments.length;i++){if(void 0==arguments[i])return"";s=new RegExp("({["+i+"]})","g");t=t.replace(s,arguments[i])}return t}return this},cc.utils={addClickEvent:function(e,t,n,o){console.log(n+":"+o);var s=new cc.Component.EventHandler;s.target=t,s.component=n,s.handler=o,e.getComponent(cc.Button).clickEvents.push(s)},addSlideEvent:function(e,t,n,o){var s=new cc.Component.EventHandler;s.target=t,s.component=n,s.handler=o,e.getComponent(cc.Slider).slideEvents.push(s)},side2index:function(e){var t=0;return"right"==e?t=1:"up"==e?t=2:"left"==e&&(t=3),t},index2side:function(e){var t="myself";return 1==e?t="right":2==e?t="up":3==e&&(t="left"),t},index2hpre:function(e){var t=["M_","R_","B_","L_"];return t[e]?t[e]:t[0]},index2fpre:function(e){var t=["B_","R_","B_","L_"];return t[e]?t[e]:t[0]},encrypt:function(e,t){t=t||Consts.LOCAL_SECRET;var n=[];if(null!=e)for(var o=0;o<e.length;o++)n.push(e.charCodeAt(o));return n.join(",")},decrypt:function(e,t){t=t||Consts.LOCAL_SECRET;var n=e.split(",");if(null!=e)for(var o=0;o<n.length;o++)n.push(String.fromCharCode(n[o]));return console.log(n),n.toString()},getSwitchUrl:function(e){var t="/pgmj/texture/moment/off";return e&&(t="/pgmj/texture/moment/on"),t},getStrConf:function(e,t,n){var o="";return e&&(o+="\u5e95\u5206\uff1a"+e+" "),t&&(o+="\u5c40\u6570\uff1a"+t+" "),n&&(o+="\u5c01\u9876\uff1a"+n+"\u756a"),o},getStrRoom:function(e){return e==Consts.SceneId.PGMJ_GAME?"\u5e73\u8c37\u9ebb\u5c06":"\u795e\u79d8\u6e38\u620f"},dateFormat:function(e){var t=new Date(e),n="{0}-{1}-{2} {3}:{4}:{5}",o=t.getFullYear(),s=t.getMonth()+1;s=s>=10?s:"0"+s;var i=t.getDate();i=i>=10?i:"0"+i;var c=t.getHours();c=c>=10?c:"0"+c;var r=t.getMinutes();r=r>=10?r:"0"+r;var a=t.getSeconds();return a=a>=10?a:"0"+a,n=n.format(o,s,i,c,r,a)},format:function(e,t){t=t||"MMddhhmm";var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t},second2str:function(e){return"{0}:{1}".format(("00"+Math.floor(e/60)).substr(-2,2),("00"+Math.floor(e%60)).substr(-2,2))},getNonceStr:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:32,t="abcdefghijklmnopqrstuvwxyz0123456789",n="",o=0;o<e;o++)n+=t[Math.floor(Math.random()*t.length)];return n},isIdName:function(e){if(e){return!!/^[\u4e00-\u9fa5]{2,4}$/i.test(e)}},isIdNumber:function(e){if(e){return!!/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)}},isQQNo:function(e){return!(!e||!/^[0-9][1-9]\d{3}/.test(e))},isPhoneNo:function(e){return!(!e||!/^1[3-8]\d{9}/.test(e))},paramUrl:function(e){if(console.log(void 0===e?"undefined":o(e)),console.log("paramUrl=%s",e),console.log(e instanceof String),!e instanceof String)return null;if(2!=(i=e.split("//")).length)return{queryParam:e};var t=i[0],n=i[1].indexOf("/"),s=i[1].substring(n);-1!=s.indexOf("?")&&(s=s.split("?")[0]);var i=e.split("?");return{host:t,searchPath:s,queryParam:this.parseUrlParam(i[1])}},parseUrlParam:function(e){if(!e instanceof String)return null;var t={},n=e.split("&");try{for(var o=0;o<n.length;o++){var s=n[o].split("=");null!=s&&(t[s[0]]=s[1])}return t}catch(e){}},getMin:function(e,t){return e<t?e:t},queryGame:function(){console.log("utils queryGame");var e=userMgr.getQueryGameId(),t=userMgr.getQueryRoomId();if(e&&t&&(console.log("queryGameId=%s queryRoomId=%s",e,t),userMgr.isLogined())){userMgr.setQueryGameId(null),userMgr.setQueryRoomId(null);var n="["+Consts.getSceneName(e)+"]["+t+"]";cc.alert.show("\u63d0\u793a","\u60a8\u5c06\u52a0\u5165"+n,function(){userMgr.joinRoom(e,t,function(t){t.code==Code.OK?userMgr.loadScene("game",e):cc.tip.show(t.code)})},!0,function(){})}}},"undefined"==typeof utils&&(window.utils=cc.utils),cc._RF.pop()},{}],VideosRecordMgr:[function(e,t,n){"use strict";cc._RF.push(t,"7e02033Z/hIDZYhv0ua9dge","VideosRecordMgr"),cc.VideosRecordMgr=cc.Class({ctor:function(){console.log("==========VideosRecordMgr======="),this._recorder=null,cc.sys.platform===cc.sys.WECHAT_GAME&&"zjtd"===cc.config.platform&&(this._recorder=tt.getGameRecorderManager()),this.videoTime=0,this.videoPath=null,this.videoState=0},onStart:function(e){var t=this;this._recorder.onStart(function(n){console.log("\u5f55\u5c4f\u5f00\u59cb"),t.startTime(),e()})},recordStart:function(e){null==e&&(e=300),this._recorder.start({duration:e})},onStops:function(e){var t=this;console.log("onStops"),this._recorder.onStop(function(n){console.log(n.videoPath),t.videoPath=n.videoPath,t.videoTime=0,t.videoState=2,e&&e(n.videoPath),pomelo.emit("C2CVideoStop",{path:t.videoPath})})},recordStop:function(e,t){console.log("stop");var n=Date.now()/1e3-this.videoTime/1e3;console.log(n),console.log(this.videoState),console.log(this.videoTime),1==this.videoState&&(n<4?1==t?(this._recorder.stop(),this.videoTime=0,this.videoState=0):cc.tip&&cc.tip.show("\u89c6\u9891\u4e0d\u80fd\u5c11\u4e8e3\u79d2"):(this.onStops(e),this._recorder.stop(),console.log("stop end")))},startTime:function(){this.videoTime=Date.now(),this.videoState=1},getVideoState:function(){return this.videoState},shareVideo:function(){null!=this.videoPath?tt.shareAppMessage({channel:"video",title:"\u6597\u517d\u68cb\u6765\u4e86\uff0c\u4e00\u8d77\u6765 PK !",desc:"",imageUrl:"",templateId:"",query:"",extra:{videoPath:this.videoPath,videoTopics:["\u6597\u517d\u68cb"]},success:function(){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f")},fail:function(e){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25"),console.log(e)}}):cc.tip.show("\u60a8\u672a\u5f55\u5c4f")}}),"undefined"==typeof VideosRecordMgr&&(window.VideosRecordMgr=new cc.VideosRecordMgr),cc._RF.pop()},{}],VitWin:[function(e,t,n){"use strict";cc._RF.push(t,"ba095MVvrtK+q59DE5LXqUD","VitWin"),cc.Class({extends:cc.Component,properties:{lbVitPecent:cc.Label,vitProgress:cc.ProgressBar,lbCutdown:cc.Label,lbAdvertPercent:cc.RichText,itemArray:{default:[],type:cc.Node}},ctor:function(){this._elaspeTime=0,this._cutdown=0},onLoad:function(){if(console.log("--------------------VitWin onLoad------------------"),this.lbVitPecent.string=userMgr.getVitPercentStr(),this.vitProgress.percent=userMgr.getVitProgress(),this._cutdown=720-(timeUtil.getTimeSecond()-userMgr.getVitTime()),this._refresh(),3==this.itemArray.length)this.itemArray[0]},onDestroy:function(){},onCloseClicked:function(e){this.node.destroy()},onMaskClicked:function(e){this.node.destroy()},onLookAdvertClicked:function(e){cc.tip.show("\u5e7f\u544a\u6682\u672a\u5f00\u653e")},onItemClicked:function(e){e.target.itemId},update:function(e){this._elaspeTime+=e,this._elaspeTime>=1&&(this._cutdown-=this._elaspeTime,this._refresh(),this._elaspeTime=0)},_refresh:function(){userMgr.getVit()<userMgr.getMaxVit()?(this._cutdown<0&&(this._cutdown=0),this.lbCutdown.string=utils.second2str(this._cutdown)+"\u540e\u4f53\u529b+1"):this.lbCutdown.string="\u4f53\u529b\u5df2\u6ee1"}}),cc._RF.pop()},{}],VoiceMgr:[function(e,t,n){"use strict";cc._RF.push(t,"1f066RbLAxKGJZtkDFO2kq/","VoiceMgr");var o=12,s=128-o;function i(e){e-=s;var t=Math.floor(e/o)+s,n=e%o+s;return String.fromCharCode(t)+String.fromCharCode(n)}for(var c={},r={},a=0;a<256;++a){var l=null,u=a+1;l=u>=s?i(u):String.fromCharCode(u),c[a]=l,r[l]=a}function d(e){var t="",n=e.length,o=n>>16&255,s=n>>8&255,i=255&n;t+=c[n>>24&255],t+=c[o],t+=c[s],t+=c[i];for(var r=0;r<e.length;++r)t+=c[e[r]];return t}function h(e,t){var n=e.charCodeAt(t);return n=n>=s?e.charAt(t)+e.charAt(t+1):e.charAt(t)}function g(e){for(var t=0,n=0,o=0;o<4;++o){t+=(c=h(e,t)).length,n|=r[c]<<8*(3-o)}for(var s=new Uint8Array(n),i=0;t<e.length;){var c;t+=(c=h(e,t)).length,s[i]=r[c],i++}return s}cc.Class({extends:cc.Component,properties:{onPlayCallback:null,_voiceMediaPath:null},init:function(){cc.sys.isNative&&(this._voiceMediaPath=jsb.fileUtils.getWritablePath()+"/voicemsgs/",this.setStorageDir(this._voiceMediaPath))},prepare:function(e){cc.sys.isNative&&(cc.audioMgr.pauseAll(),this.clearCache(e),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/joy/voicesdk/VoiceRecorder","prepare","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("VoiceSDK","prepareRecord:",e))},release:function(){cc.sys.isNative&&(cc.audioMgr.resumeAll(),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/joy/voicesdk/VoiceRecorder","release","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("VoiceSDK","finishRecord"))},cancel:function(){cc.sys.isNative&&(cc.audioMgr.resumeAll(),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/joy/voicesdk/VoiceRecorder","cancel","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("VoiceSDK","cancelRecord"))},writeVoice:function(e,t){if(cc.sys.isNative&&t&&t.length>0){var n=g(t),o=this._voiceMediaPath+e;this.clearCache(e),jsb.fileUtils.writeDataToFile(n,o)}},clearCache:function(e){if(cc.sys.isNative){var t=this._voiceMediaPath+e;jsb.fileUtils.isFileExist(t)&&jsb.fileUtils.removeFile(t),jsb.fileUtils.isFileExist(t+".wav")&&jsb.fileUtils.removeFile(t+".wav")}},play:function(e){cc.sys.isNative&&(cc.audioMgr.pauseAll(),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/joy/voicesdk/VoicePlayer","play","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("VoiceSDK","play:",e))},stop:function(){cc.sys.isNative&&(cc.audioMgr.resumeAll(),cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/joy/voicesdk/VoicePlayer","stop","()V"):cc.sys.os==cc.sys.OS_IOS&&jsb.reflection.callStaticMethod("VoiceSDK","stopPlay"))},getVoiceLevel:function(e){return Math.floor(Math.random()*e+1)},getVoiceData:function(e){if(cc.sys.isNative){var t=this._voiceMediaPath+e;console.log("getVoiceData:"+t);var n=jsb.fileUtils.getDataFromFile(t);if(n)return d(n)}return""},download:function(){},setStorageDir:function(e){cc.sys.isNative&&(cc.sys.os==cc.sys.OS_ANDROID?jsb.reflection.callStaticMethod("com/joy/voicesdk/VoiceRecorder","setStorageDir","(Ljava/lang/String;)V",e):cc.sys.os==cc.sys.OS_IOS&&(jsb.reflection.callStaticMethod("VoiceSDK","setStorageDir:",e),jsb.fileUtils.isDirectoryExist(e)||jsb.fileUtils.createDirectory(e)))}}),cc._RF.pop()},{}],Voice:[function(e,t,n){"use strict";cc._RF.push(t,"f6db9z0CxdEzpRVgU569dDu","Voice"),cc.Class({extends:cc.Component,properties:{_lastTouchTime:null,_voice:null,_volume:null,_voice_failed:null,_lastCheckTime:-1,_timeBar:null,MAX_TIME:15e3},onLoad:function(){this._voice=cc.find("Canvas/voice"),this._voice.active=!1,this._voice_failed=cc.find("Canvas/voice/voice_failed"),this._voice_failed.active=!1,this._timeBar=cc.find("Canvas/voice/time"),this._timeBar.scaleX=0,this._volume=cc.find("Canvas/voice/volume");for(var e=1;e<this._volume.children.length;++e)this._volume.children[e].active=!1;(t=cc.find("Canvas/voice/voice_failed/btn_ok"))&&cc.vv.utils.addClickEvent(t,this.node,"Voice","onBtnOKClicked");var t,n=this;(t=cc.find("Canvas/btn_voice"))&&(t.on(cc.Node.EventType.TOUCH_START,function(){console.log("cc.Node.EventType.TOUCH_START"),cc.vv.voiceMgr.prepare("record.amr"),n._lastTouchTime=Date.now(),n._voice.active=!0,n._voice_failed.active=!1}),t.on(cc.Node.EventType.TOUCH_MOVE,function(){console.log("cc.Node.EventType.TOUCH_MOVE")}),t.on(cc.Node.EventType.TOUCH_END,function(){console.log("cc.Node.EventType.TOUCH_END"),Date.now()-n._lastTouchTime<1e3?(n._voice.active=!1,n._voice_failed.active=!0,cc.vv.voiceMgr.cancel()):n.onVoiceOK(),n._lastTouchTime=null}),t.on(cc.Node.EventType.TOUCH_CANCEL,function(){console.log("cc.Node.EventType.TOUCH_CANCEL"),cc.vv.voiceMgr.cancel(),n._lastTouchTime=null,n._voice.active=!1}))},onVoiceOK:function(){if(null!=this._lastTouchTime){cc.vv.voiceMgr.release();var e=Date.now()-this._lastTouchTime,t=cc.vv.voiceMgr.getVoiceData("record.amr");cc.vv.net.send("voice_msg",{msg:t,time:e})}this._voice.active=!1},onBtnOKClicked:function(){this._voice.active=!1},update:function(e){if(1==this._voice.active&&0==this._voice_failed.active&&Date.now()-this._lastCheckTime>300){for(var t=0;t<this._volume.children.length;++t)this._volume.children[t].active=!1;var n=cc.vv.voiceMgr.getVoiceLevel(7);n>=1&&n<=7&&(this._volume.children[n-1].active=!0),this._lastCheckTime=Date.now()}if(this._lastTouchTime){var o=Date.now()-this._lastTouchTime;if(o>=this.MAX_TIME)this.onVoiceOK(),this._lastTouchTime=null;else{var s=o/this.MAX_TIME;this._timeBar.scaleX=1-s}}}}),cc._RF.pop()},{}],Waiting:[function(e,t,n){"use strict";cc._RF.push(t,"10e32jDstpLhIGHWrQEq2vN","Waiting"),cc.Class({extends:cc.Component,properties:{cycle:cc.Node,lblContent:cc.Label,_interval:0},onLoad:function(){this.node.active=!1},show:function(e){this.node.active=!0,this._interval=0,this.lblContent&&(null==e&&(e=""),this.lblContent.string=e),this.node.active=!0},hide:function(){this.node.active=!1},update:function(e){this.cycle&&(this.cycle.angle=this.cycle.angle-90*e),this._interval+=e,this._interval>=10&&(this.hide(),cc.log("waiting update"))}}),cc._RF.pop()},{}],codeMsg:[function(e,t,n){"use strict";var o;function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"ad9cfLj/+1FJKPBWHGkliQf","codeMsg"),cc.codeMsg=(s(o={ERR_BAN:-6,ERR_UNSUPPORT:-5,ERR_AUTH_DENIED:-4,ERR_SENT_FAILED:-3,ERR_USER_CANCEL:-2,ERR_COMM:-1,ERR_OK:0,CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,Created:201,NOT_FOUND:404,FAIL:500,DB_FAIL:600,VERIFY_FAIL:700,CATCH_ERROR:800,INVALID_TOKEN:1001,EXPIRE_TOKEN:1002,NONE_USER:1003,EXPIRE_AUTH_CODE:1004,UNSTART_GAME:1107,NONE_ROOM:1008,ENTRY:{FA_TOKEN_INVALID:1001,FA_TOKEN_EXPIRE:1002,FA_USER_NOT_EXIST:1003},GATE:{FA_NO_SERVER_AVAILABLE:2001},CHAT:{FA_CHANNEL_CREATE:3001,FA_CHANNEL_NOT_EXIST:3002,FA_UNKNOWN_CONNECTOR:3003,FA_USER_NOT_ONLINE:3004},DISABLE_TRUEN:3011,MANAGER:{FA_ENTER_EXIST:4001},ROOM:{FA_STEP_INVALID:5001,FA_STEP_BEGIN:5002,FA_STEP_LOOP:5003,FA_STEP_END:5004}},"NONE_ROOM",6001),s(o,"FULL_MEMBER",6002),s(o,"UNKNOWN_ROOM_TYPE",6003),s(o,"EXIT_ROOM",6005),s(o,"NONE_PLAYER",6006),s(o,"RESTART_ROOM",6007),o),"undefined"==typeof codeMsg&&(window.codeMsg=cc.codeMsg),cc._RF.pop()},{}],code:[function(e,t,n){"use strict";var o;function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}cc._RF.push(t,"2d3dalYaDJOIqhHHiNscMTi","code"),cc.Code=(s(o={ERR_BAN:-6,ERR_UNSUPPORT:-5,ERR_AUTH_DENIED:-4,ERR_SENT_FAILED:-3,ERR_USER_CANCEL:-2,ERR_COMM:-1,ERR_OK:0,CONTINUE:100,SWITCHING_PROTOCOLS:101,OK:200,Created:201,NEW_VERSION:301,NEW_ENGINE:302,NOT_FOUND:404,FAIL:500,DB_FAIL:600,VERIFY_FAIL:700,CATCH_ERROR:800,INVALID_TOKEN:1001,EXPIRE_TOKEN:1002,NONE_USER:1003,EXPIRE_AUTH_CODE:1004,UNSTART_GAME:1107,NONE_ROOM:1008,NONE_INTERNET:1009,ENTRY:{FA_TOKEN_INVALID:1001,FA_TOKEN_EXPIRE:1002,FA_USER_NOT_EXIST:1003},GATE:{FA_NO_SERVER_AVAILABLE:2001},CHAT:{FA_CHANNEL_CREATE:3001,FA_CHANNEL_NOT_EXIST:3002,FA_UNKNOWN_CONNECTOR:3003,FA_USER_NOT_ONLINE:3004},DISABLE_TRUEN:3011,MANAGER:{FA_ENTER_EXIST:4001},ROOM:{FA_STEP_INVALID:5001,FA_STEP_BEGIN:5002,FA_STEP_LOOP:5003,FA_STEP_END:5004}},"NONE_ROOM",6001),s(o,"FULL_MEMBER",6002),s(o,"UNKNOWN_ROOM_TYPE",6003),s(o,"EXIT_ROOM",6005),s(o,"NONE_PLAYER",6006),s(o,"RESTART_ROOM",6007),o),"undefined"==typeof Code&&(window.Code=cc.Code),cc._RF.pop()},{}],consts:[function(e,t,n){"use strict";cc._RF.push(t,"ada5bz05KFDzJHNA72V4dDW","consts"),cc.Consts={LOCAL_SECRET:"0qM8YpqR%Wy&xS3e",HEART_INTERVAL:10,MAX_RECONNECT:7,REQUEST_CONFIG_INTERVAL:36e5,HALL:{FA_NO_SERVER_AVAILABLE:2001},MAHJONG:{FA_CONFIG_NULL:3001,FA_BASESCORE_INVALID:3002,FA_ZIMO_INVALID:3003,FA_MAXFAN_INVALID:3004,FA_MAXGAME_INVALID:3005,FA_GEMS_LOSE:3006,FA_WRITE_ERROR:3007},ChannelID:{GUEST:1e4,WECHAT:10001},SceneName:{100000:"\u724c\u53cb\u5708",200000:"\u5e73\u8c37\u9ebb\u5c06\u5927\u5385",200001:"\u5e73\u8c37\u9ebb\u5c06\u6e38\u620f",jungle:"\u6597\u517d\u68cb",darkchess:"\u6697\u8c61\u68cb"},getSceneName:function(e){var t="\u672a\u77e5\u573a\u666f\uff1a"+e;return e&&this.SceneName[e]&&(t=this.SceneName[e]),t},SDKType:{GUEST:1e3,WECHAT:1001,APPLET_WECHAT:1002},WechatTradeType:{JSAPI:"JSAPI",NATIVE:"NATIVE",APP:"APP",MWEB:"MWEB"},GameId:{PGMJ:"pgmj",JUNGLE:"jungle",DARKCHESS:"darkchess"},ResFolder:{20000:"pgmj",30000:"jungle"},SceneId:{LOGIN:"100",MOMENT:"100000",PGMJ_HALL:"200000",PGMJ_GAME:"200001",JUNGLE_HALL:"300000",JUNGLE_GAME:"300001",DARK_CHESS:"darkchess"},MOMENT:{FA_SIGN_INVALID:4001,MOMENT_ID_INVALID:0,PLAYER_ID_NONE:0,NICK_NAME_NONE:"",PRIVILEGE_NONE:0,MAX_OWN_COUNT:3,MAX_JOIN_COUNT:5,STATE_OFFLINE:0,STATE_ONLINE:1,STATE_GAMING:2,APPLY_JOIN_NONE:0,APPLY_JOIN_AGREE:1,APPLY_JOIN_REFUSE:2},MomentFeatureBit:{CHAT:0,ROOM:1,GUESS:2},MomentPrivilegeBit:{SUPER:0,ADMIN:1,PLAYING:2},PlayerState:{INVALID:0,OFFLINE:1,ONLINE:2},getStrPlayerState:function(e){return e==this.PlayerState.OFFLINE?"\u3010\u79bb\u7ebf\u3011":e==this.PlayerState.ONLINE?"\u3010\u5728\u7ebf\u3011":"\u3010\u795e\u79d8\u3011"},getColorPlayerState:function(e){return e==this.PlayerState.ONLINE?new cc.Color(52,156,94):new cc.Color(109,109,109)},GameState:{UNREADY:0,READY:1,PLAYING:2},RoomState:{INVAILD:0,LOCATED:1,RUNNING:2},RoomStep:{IDLE:0,LOOP:1,END:2},getStrGameState:function(e){return e==this.GameState.UNREADY?"\u3010\u672a\u51c6\u5907\u3011":e==this.GameState.READY?"\u3010\u5df2\u51c6\u5907\u3011":e==this.GameState.PLAYING?"\u3010\u6e38\u620f\u4e2d\u3011":"\u3010\u795e\u79d8\u4eba\u3011"},getColorGameState:function(e){return e==this.GameState.UNREADY?new cc.Color(255,121,94):e==this.GameState.READY?new cc.Color(52,156,94):e==this.GameState.PLAYING?new cc.Color(85,102,98):new cc.Color(109,109,109)},DissolveState:{WAITTING:0,AGREE:1,REJECT:2},MahjongID:{EMPTY:-3,JOKER:-2,MASTER:-1},CONMENT:{"-6":"-6","-5":"-5","-4":"-4","-3":"-3","-2":"\u53d6\u6d88","-1":"-1",0:"\u6210\u529f",200:"\u64cd\u4f5c\u6210\u529f",404:"\u8bf7\u6c42\u5931\u8d25",500:"\u64cd\u4f5c\u5931\u8d25",700:"\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd5700",1008:"\u623f\u95f4\u5df2\u5f00\u59cb/\u7ed3\u675f",1101:"\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd51101",1102:"\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd51102",1103:"\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd51103",1104:"\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd51104",1105:"\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd51105",1106:"\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd51106",1107:"\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd51107",1108:"\u670d\u52a1\u5668\u7ef4\u62a4\u4e2d\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd51108",1201:"\u65e0\u6548\u8bf7\u6c42",1401:"\u5728\u961f\u5217\u4e2d",1402:"\u5728\u6e38\u620f\u4e2d",1501:"\u672a\u5b8c\u6210\u4efb\u52a1",1502:"\u5df2\u9886\u5956\u4efb\u52a1",3006:"\u8be5\u724c\u53cb\u5708\u623f\u5361\u4e0d\u8db3",3011:"\u5bf9\u65b9\u56de\u5408",4001:"\u5df2\u7ecf\u52a0\u5165\u5176\u4ed6\u6e38\u620f",4007:"\u627e\u4e0d\u5230\u8be5\u73a9\u5bb6",4008:"\u53ea\u6709\u7ba1\u7406\u5458\u624d\u80fd\u8fdb\u884c\u64cd\u4f5c",4009:"\u8d85\u7ea7\u7ba1\u7406\u5458\u65e0\u6cd5\u8e22\u51fa",4010:"\u53ea\u6709\u8d85\u7ea7\u7ba1\u7406\u5458\u53ef\u4ee5\u8e22\u51fa\u7ba1\u7406\u5458",4011:"\u65e0\u6743\u9650\u53d6\u51fa\u623f\u5361",4012:"\u724c\u53cb\u5708\u623f\u5361\u4e0d\u8db3",4013:"\u4e2a\u4eba\u623f\u5361\u4e0d\u8db3",4014:"\u8bf7\u8f93\u5165\u6709\u6548\u7684\u6570\u91cf",4015:"\u4e0d\u5728\u7533\u8bf7\u5217\u8868",4016:"\u8c1c\u9898\u5df2\u88ab\u89e3\u7b54",4017:"\u8c1c\u9898\u5df2\u8fc7\u671f",4018:"\u91d1\u5e01\u4e0d\u8db3",4019:"\u65e0\u6cd5\u89e3\u7b54\u81ea\u5df1\u7684\u8c1c\u9898",4028:"\u672a\u8fdb\u5165\u6e38\u620f",6005:"\u5df2\u6709\u5176\u4ed6\u623f\u95f4",6007:"\u623f\u95f4\u5df2\u5f00\u59cb/\u89e3\u6563",6008:"\u8be5\u6905\u5b50\u4e0a\u5df2\u6709\u73a9\u5bb6"},getConment:function(e){var t="\u672a\u77e5code\uff1a"+e;return e&&this.CONMENT[e]&&(t=this.CONMENT[e]),t},DesignResolution:{width:1280},isMomentChatable:function(e){return 1<<this.MomentFeatureBit.CHAT&e},isMomentRoomable:function(e){return 1<<this.MomentFeatureBit.ROOM&e},isMomentGuessable:function(e){return 1<<this.MomentFeatureBit.GUESS&e},isMomentSurper:function(e){return 1<<this.MomentPrivilegeBit.SUPER&e},isMomentAdminer:function(e){return 1<<this.MomentPrivilegeBit.ADMIN&e||1<<this.MomentPrivilegeBit.SUPER&e},ItemId:{INVALID:0,COIN:1,GEMS:2,CASH:3,VIT:4,BOX_SILVER:101,BOX_GOLD:102,BOX_DIAMOND:103},ItemKind:{INVALID:0,CURRENCY:1,BOX:2},ActionID:{PASS:0,DISCARD:1,DRAW:2,PONG:3,KONG:4,WIN:5,JOKING:6,TING:7,AUTO_DISCARD:8},ReasonId:{GM:1,SYS:2,RECHARGE:3},EmailState:{UNREAD:0,READED:1},WXSCENE:{SESSION:0,TIMELINE:1,FAVORITE:2},ChessState:{INVALID:0,COVER:1,UNCOVER:2,DEFEATED:3},ChessId:{COVER:-2,EMPTY:-1,MOUSE:1,CAT:2,DOG:3,WOLF:4,LEOPARD:5,TIGER:6,LION:7,ELEPHANT:8},JungleChessId:{COVER:-2,EMPTY:-1,NONE:0,MOUSE:1,CAT:2,DOG:4,WOLF:8,LEOPARD:16,TIGER:32,LION:64,ELEPHANT:128},DarkChessId:{COVER:-2,EMPTY:-1,PAWN:1,CANNON:2,KNIGHT:4,ROOK:8,ELEPHANT:16,MANDARIN:32,KING:64},DarkChessName:{1:"\u5352",2:"\u70ae",4:"\u9a6c",8:"\u8f66",16:"\u8c61",32:"\u58eb",64:"\u5c06"},Sex:{MALE:1,FEMALE:2},ResultType:{WIN:1,LOSE:2,DRAW:3},TaskKind:{INVALID:0,DAY:1,CYCLE:2},TaskState:{NONE:0,COMPLETE:1,FINISHED:2},TaskCType:{INVALID:0,USE_KIND_ITEM:1,USE_ITEM:2,TREASURE_HUNT:3,SINGLE_GAME:4,CLUB_GAME:5,INVITE_SUCCESS:101}},"undefined"==typeof Consts&&(window.Consts=cc.Consts),cc._RF.pop()},{}],emoji:[function(e,t,n){"use strict";cc._RF.push(t,"c18c53feptGIpMK5+ct/xCT","emoji"),cc.emoji={TIAOPI_JUNGLE:"bq1_jungle",CIYA_JUNGLE:"bq2_jungle",WEIQU_JUNGLE:"bq3_jungle",YIWEN_JUNGLE:"bq4_jungle"},"undefined"==typeof Emoji&&(window.Emoji=cc.emoji),cc._RF.pop()},{}],gameConfig:[function(e,t,n){"use strict";cc._RF.push(t,"f84deFes8NMoaOtwJVHFByv","gameConfig");var o={default_channel:"23000000"};cc.config=cc.config||{},cc.config=Object.assign(cc.config,o),void 0===o&&(window.config=cc.config),cc._RF.pop()},{}],timeUtil:[function(e,t,n){"use strict";cc._RF.push(t,"402264lYitHSazJBZYPlETd","timeUtil"),cc.timeUtil={getTimeNow:function(){return Date.now()},getTimeSecond:function(){return Math.floor(this.getTimeNow()/1e3)}},"undefined"==typeof timeUtil&&(window.timeUtil=cc.timeUtil),cc._RF.pop()},{}]},{},["AwardItem","AwardWin","BagItem","BagWin","ChessJungle","ClubJungle","ClubPlayerJungle","DayInviteWin","DayTaskWin","GameJungle","HallJungle","HelperWinJungle","ItemDetailWin","JoinGameWin","MoreGameJungle","PlayerJungle","PlayerMatchJungle","ResultPlayerJungle","ResultWin","SelfInfoWin","SingleJungle","SinglePlayerJungle","StepCutDownJungle","TaskItem","TipJungle","TreasureHuntWin","VitWin","gameConfig","AdMgr","AnysdkMgr","AudioMgr","BroadcastMgr","ConfigMgr","DataMgr","GameMgr","HTTP","ReplayMgr","ResMgr","UserMgr","Utils","VideosRecordMgr","code","codeMsg","consts","emoji","timeUtil","Alert","ForceUpdateWin","GameItem","HotUpdate","ImageLoader","Loading","Login","SettingWin","Tip","TurnTable","Voice","VoiceMgr","Waiting"]);